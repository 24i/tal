<html><head><meta http-equiv="content-type" content="text/html; charset=utf-8"> <style>
	.KEYW {color: #933;}
	.COMM {color: #bbb; font-style: italic;}
	.NUMB {color: #393;}
	.STRN {color: #393;}
	.REGX {color: #339;}
	.line {border-right: 1px dotted #666; color: #666; font-style: normal;}
	</style></head><body><pre><span class='line'>  1</span> <span class="COMM">/**
<span class='line'>  2</span>  * @fileOverview Requirejs module containing the antie.Device class.
<span class='line'>  3</span>  *
<span class='line'>  4</span>  * @preserve Copyright (c) 2013 British Broadcasting Corporation
<span class='line'>  5</span>  * (http://www.bbc.co.uk) and TAL Contributors (1)
<span class='line'>  6</span>  *
<span class='line'>  7</span>  * (1) TAL Contributors are listed in the AUTHORS file and at
<span class='line'>  8</span>  *     https://github.com/fmtvp/TAL/AUTHORS - please extend this file,
<span class='line'>  9</span>  *     not this notice.
<span class='line'> 10</span>  *
<span class='line'> 11</span>  * @license Licensed under the Apache License, Version 2.0 (the "License");
<span class='line'> 12</span>  * you may not use this file except in compliance with the License.
<span class='line'> 13</span>  * You may obtain a copy of the License at
<span class='line'> 14</span>  *
<span class='line'> 15</span>  *    http://www.apache.org/licenses/LICENSE-2.0
<span class='line'> 16</span>  *
<span class='line'> 17</span>  * Unless required by applicable law or agreed to in writing, software
<span class='line'> 18</span>  * distributed under the License is distributed on an "AS IS" BASIS,
<span class='line'> 19</span>  * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
<span class='line'> 20</span>  * See the License for the specific language governing permissions and
<span class='line'> 21</span>  * limitations under the License.
<span class='line'> 22</span>  *
<span class='line'> 23</span>  * All rights reserved
<span class='line'> 24</span>  * Please contact us for an alternative licence
<span class='line'> 25</span>  */</span><span class="WHIT">
<span class='line'> 26</span> 
<span class='line'> 27</span> </span><span class="COMM">/**
<span class='line'> 28</span>  * Contains device-specific code.
<span class='line'> 29</span>  * @name antie.devices
<span class='line'> 30</span>  * @namespace
<span class='line'> 31</span>  */</span><span class="WHIT">
<span class='line'> 32</span> </span><span class="COMM">/**
<span class='line'> 33</span>  * Contains device-specific animation code.
<span class='line'> 34</span>  * @name antie.devices.anim
<span class='line'> 35</span>  * @namespace
<span class='line'> 36</span>  */</span><span class="WHIT">
<span class='line'> 37</span> </span><span class="COMM">/**
<span class='line'> 38</span>  * Contains device-specific broadcast playback code.
<span class='line'> 39</span>  * @name antie.devices.broadcastsource
<span class='line'> 40</span>  * @namespace
<span class='line'> 41</span>  */</span><span class="WHIT">
<span class='line'> 42</span> </span><span class="COMM">/**
<span class='line'> 43</span>  * Contains device-specific media playback code.
<span class='line'> 44</span>  * @name antie.devices.media
<span class='line'> 45</span>  * @namespace
<span class='line'> 46</span>  */</span><span class="WHIT">
<span class='line'> 47</span> </span><span class="COMM">/**
<span class='line'> 48</span>  * Contains device-specific network code.
<span class='line'> 49</span>  * @name antie.devices.net
<span class='line'> 50</span>  * @namespace
<span class='line'> 51</span>  */</span><span class="WHIT">
<span class='line'> 52</span> 
<span class='line'> 53</span> </span><span class="NAME">require.def</span><span class="PUNC">(</span><span class="STRN">'antie/devices/device'</span><span class="PUNC">,</span><span class="WHIT">
<span class='line'> 54</span> </span><span class="WHIT">    </span><span class="PUNC">[</span><span class="WHIT">
<span class='line'> 55</span> </span><span class="WHIT">        </span><span class="STRN">'antie/class'</span><span class="PUNC">,</span><span class="WHIT">
<span class='line'> 56</span> </span><span class="WHIT">        </span><span class="STRN">'antie/events/keyevent'</span><span class="PUNC">,</span><span class="WHIT">
<span class='line'> 57</span> </span><span class="WHIT">        </span><span class="STRN">'antie/storageprovider'</span><span class="PUNC">,</span><span class="WHIT">
<span class='line'> 58</span> </span><span class="WHIT">        </span><span class="STRN">'antie/devices/storage/session'</span><span class="PUNC">,</span><span class="WHIT">
<span class='line'> 59</span> </span><span class="WHIT">        </span><span class="STRN">'require'</span><span class="WHIT">
<span class='line'> 60</span> </span><span class="WHIT">    </span><span class="PUNC">]</span><span class="PUNC">,</span><span class="WHIT">
<span class='line'> 61</span> </span><span class="WHIT">    </span><span class="KEYW">function</span><span class="PUNC">(</span><span class="NAME">Class</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">KeyEvent</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">StorageProvider</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">SessionStorage</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">require</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class='line'> 62</span> </span><span class="WHIT">        </span><span class="COMM">/**
<span class='line'> 63</span>          * Abstract base class for Antie devices.
<span class='line'> 64</span>          * Device classes contain an abstraction layer between the {@link Application} and the environment in which
<span class='line'> 65</span>          * the application runs (usually a web-browser).
<span class='line'> 66</span>          *
<span class='line'> 67</span>          * Any of the methods below can be overriden by a device-specific subclass or implementation common to multiple
<span class='line'> 68</span>          * devices can be loaded via requirejs modifiers for this module (referenced in the device config).
<span class='line'> 69</span>          * Device-specific implementations take precendence over those in requirejs modifiers.
<span class='line'> 70</span>          *
<span class='line'> 71</span>          * @name antie.devices.Device
<span class='line'> 72</span>          * @class
<span class='line'> 73</span>          * @abstract
<span class='line'> 74</span>          * @extends antie.Class
<span class='line'> 75</span>          * @requires antie.events.KeyEvent
<span class='line'> 76</span>          * @param {Object} config Device configuration document.
<span class='line'> 77</span>          */</span><span class="WHIT">
<span class='line'> 78</span> </span><span class="WHIT">        </span><span class="KEYW">var</span><span class="WHIT"> </span><span class="NAME">Device</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="NAME">Class.extend</span><span class="PUNC">(</span><span class="COMM">/** @lends antie.devices.Device.prototype */</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class='line'> 79</span> </span><span class="WHIT">            </span><span class="COMM">/**
<span class='line'> 80</span>              * @constructor
<span class='line'> 81</span>              * @ignore
<span class='line'> 82</span>              */</span><span class="WHIT">
<span class='line'> 83</span> </span><span class="WHIT">            </span><span class="NAME">init</span><span class="PUNC">:</span><span class="WHIT"> </span><span class="KEYW">function</span><span class="PUNC">(</span><span class="NAME">config</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class='line'> 84</span> </span><span class="WHIT">                </span><span class="NAME">this._application</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="KEYW">null</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'> 85</span> </span><span class="WHIT">                </span><span class="NAME">this._config</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="NAME">config</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'> 86</span> </span><span class="WHIT">                </span><span class="NAME">this._keyMap</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="PUNC">}</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'> 87</span> 
<span class='line'> 88</span> </span><span class="WHIT">                </span><span class="COMM">// Manipulate the input map into a mapping between key event keycodes and</span><span class="WHIT">
<span class='line'> 89</span> </span><span class="WHIT">                </span><span class="COMM">// our virtual key codes</span><span class="WHIT">
<span class='line'> 90</span> </span><span class="WHIT">                </span><span class="KEYW">if</span><span class="WHIT"> </span><span class="PUNC">(</span><span class="NAME">config.input</span><span class="WHIT"> </span><span class="PUNC">&&</span><span class="WHIT"> </span><span class="NAME">config.input.map</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class='line'> 91</span> </span><span class="WHIT">                    </span><span class="KEYW">var</span><span class="WHIT"> </span><span class="NAME">symbolMap</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class='line'> 92</span> </span><span class="WHIT">                        </span><span class="STRN">"UP"</span><span class="PUNC">:</span><span class="WHIT"> </span><span class="NAME">KeyEvent.VK_UP</span><span class="PUNC">,</span><span class="WHIT">
<span class='line'> 93</span> </span><span class="WHIT">                        </span><span class="STRN">"DOWN"</span><span class="PUNC">:</span><span class="WHIT"> </span><span class="NAME">KeyEvent.VK_DOWN</span><span class="PUNC">,</span><span class="WHIT">
<span class='line'> 94</span> </span><span class="WHIT">                        </span><span class="STRN">"LEFT"</span><span class="PUNC">:</span><span class="WHIT"> </span><span class="NAME">KeyEvent.VK_LEFT</span><span class="PUNC">,</span><span class="WHIT">
<span class='line'> 95</span> </span><span class="WHIT">                        </span><span class="STRN">"RIGHT"</span><span class="PUNC">:</span><span class="WHIT"> </span><span class="NAME">KeyEvent.VK_RIGHT</span><span class="PUNC">,</span><span class="WHIT">
<span class='line'> 96</span> </span><span class="WHIT">                        </span><span class="STRN">"ENTER"</span><span class="PUNC">:</span><span class="WHIT"> </span><span class="NAME">KeyEvent.VK_ENTER</span><span class="PUNC">,</span><span class="WHIT">
<span class='line'> 97</span> </span><span class="WHIT">                        </span><span class="STRN">"BACK"</span><span class="PUNC">:</span><span class="WHIT"> </span><span class="NAME">KeyEvent.VK_BACK</span><span class="PUNC">,</span><span class="WHIT">
<span class='line'> 98</span> </span><span class="WHIT">                        </span><span class="STRN">"SPACE"</span><span class="PUNC">:</span><span class="WHIT"> </span><span class="NAME">KeyEvent.VK_SPACE</span><span class="PUNC">,</span><span class="WHIT">
<span class='line'> 99</span> </span><span class="WHIT">                        </span><span class="STRN">"BACK_SPACE"</span><span class="PUNC">:</span><span class="WHIT"> </span><span class="NAME">KeyEvent.VK_BACK_SPACE</span><span class="PUNC">,</span><span class="WHIT">
<span class='line'>100</span> </span><span class="WHIT">                        </span><span class="STRN">"PLAY"</span><span class="PUNC">:</span><span class="WHIT"> </span><span class="NAME">KeyEvent.VK_PLAY</span><span class="PUNC">,</span><span class="WHIT">
<span class='line'>101</span> </span><span class="WHIT">                        </span><span class="STRN">"PAUSE"</span><span class="PUNC">:</span><span class="WHIT"> </span><span class="NAME">KeyEvent.VK_PAUSE</span><span class="PUNC">,</span><span class="WHIT">
<span class='line'>102</span> </span><span class="WHIT">                        </span><span class="STRN">"PLAY_PAUSE"</span><span class="PUNC">:</span><span class="WHIT"> </span><span class="NAME">KeyEvent.VK_PLAY_PAUSE</span><span class="PUNC">,</span><span class="WHIT">
<span class='line'>103</span> </span><span class="WHIT">                        </span><span class="STRN">"STOP"</span><span class="PUNC">:</span><span class="WHIT"> </span><span class="NAME">KeyEvent.VK_STOP</span><span class="PUNC">,</span><span class="WHIT">
<span class='line'>104</span> </span><span class="WHIT">                        </span><span class="STRN">"PREV"</span><span class="PUNC">:</span><span class="WHIT"> </span><span class="NAME">KeyEvent.VK_PREV</span><span class="PUNC">,</span><span class="WHIT">
<span class='line'>105</span> </span><span class="WHIT">                        </span><span class="STRN">"NEXT"</span><span class="PUNC">:</span><span class="WHIT"> </span><span class="NAME">KeyEvent.VK_NEXT</span><span class="PUNC">,</span><span class="WHIT">
<span class='line'>106</span> </span><span class="WHIT">                        </span><span class="STRN">"FAST_FWD"</span><span class="PUNC">:</span><span class="WHIT"> </span><span class="NAME">KeyEvent.VK_FAST_FWD</span><span class="PUNC">,</span><span class="WHIT">
<span class='line'>107</span> </span><span class="WHIT">                        </span><span class="STRN">"REWIND"</span><span class="PUNC">:</span><span class="WHIT"> </span><span class="NAME">KeyEvent.VK_REWIND</span><span class="PUNC">,</span><span class="WHIT">
<span class='line'>108</span> </span><span class="WHIT">                        </span><span class="STRN">"SUBTITLE"</span><span class="PUNC">:</span><span class="WHIT"> </span><span class="NAME">KeyEvent.VK_SUBTITLE</span><span class="PUNC">,</span><span class="WHIT">
<span class='line'>109</span> </span><span class="WHIT">                        </span><span class="STRN">"INFO"</span><span class="PUNC">:</span><span class="WHIT"> </span><span class="NAME">KeyEvent.VK_INFO</span><span class="PUNC">,</span><span class="WHIT">
<span class='line'>110</span> </span><span class="WHIT">                        </span><span class="STRN">"VOLUME_UP"</span><span class="PUNC">:</span><span class="WHIT"> </span><span class="NAME">KeyEvent.VK_VOLUME_UP</span><span class="PUNC">,</span><span class="WHIT">
<span class='line'>111</span> </span><span class="WHIT">                        </span><span class="STRN">"VOLUME_DOWN"</span><span class="PUNC">:</span><span class="WHIT"> </span><span class="NAME">KeyEvent.VK_VOLUME_DOWN</span><span class="PUNC">,</span><span class="WHIT">
<span class='line'>112</span> </span><span class="WHIT">                        </span><span class="STRN">"MUTE"</span><span class="PUNC">:</span><span class="WHIT"> </span><span class="NAME">KeyEvent.VK_MUTE</span><span class="PUNC">,</span><span class="WHIT">
<span class='line'>113</span> </span><span class="WHIT">                        </span><span class="STRN">"RED"</span><span class="WHIT"> </span><span class="PUNC">:</span><span class="WHIT"> </span><span class="NAME">KeyEvent.VK_RED</span><span class="PUNC">,</span><span class="WHIT">
<span class='line'>114</span> </span><span class="WHIT">                        </span><span class="STRN">"GREEN"</span><span class="WHIT"> </span><span class="PUNC">:</span><span class="WHIT"> </span><span class="NAME">KeyEvent.VK_GREEN</span><span class="PUNC">,</span><span class="WHIT">
<span class='line'>115</span> </span><span class="WHIT">                        </span><span class="STRN">"YELLOW"</span><span class="WHIT"> </span><span class="PUNC">:</span><span class="WHIT"> </span><span class="NAME">KeyEvent.VK_YELLOW</span><span class="PUNC">,</span><span class="WHIT">
<span class='line'>116</span> </span><span class="WHIT">                        </span><span class="STRN">"BLUE"</span><span class="WHIT"> </span><span class="PUNC">:</span><span class="WHIT"> </span><span class="NAME">KeyEvent.VK_BLUE</span><span class="PUNC">,</span><span class="WHIT">
<span class='line'>117</span> </span><span class="WHIT">                        </span><span class="STRN">"HELP"</span><span class="PUNC">:</span><span class="WHIT"> </span><span class="NAME">KeyEvent.VK_HELP</span><span class="PUNC">,</span><span class="WHIT">
<span class='line'>118</span> </span><span class="WHIT">                        </span><span class="STRN">"SEARCH"</span><span class="PUNC">:</span><span class="WHIT"> </span><span class="NAME">KeyEvent.VK_SEARCH</span><span class="PUNC">,</span><span class="WHIT">
<span class='line'>119</span> </span><span class="WHIT">                        </span><span class="STRN">"AD"</span><span class="PUNC">:</span><span class="WHIT"> </span><span class="NAME">KeyEvent.VK_AUDIODESCRIPTION</span><span class="PUNC">,</span><span class="WHIT">
<span class='line'>120</span> </span><span class="WHIT">                        </span><span class="STRN">"HD"</span><span class="PUNC">:</span><span class="WHIT"> </span><span class="NAME">KeyEvent.VK_HD</span><span class="PUNC">,</span><span class="WHIT">
<span class='line'>121</span> </span><span class="WHIT">                        </span><span class="STRN">"A"</span><span class="PUNC">:</span><span class="WHIT"> </span><span class="NAME">KeyEvent.VK_A</span><span class="PUNC">,</span><span class="WHIT">
<span class='line'>122</span> </span><span class="WHIT">                        </span><span class="STRN">"B"</span><span class="PUNC">:</span><span class="WHIT"> </span><span class="NAME">KeyEvent.VK_B</span><span class="PUNC">,</span><span class="WHIT">
<span class='line'>123</span> </span><span class="WHIT">                        </span><span class="STRN">"C"</span><span class="PUNC">:</span><span class="WHIT"> </span><span class="NAME">KeyEvent.VK_C</span><span class="PUNC">,</span><span class="WHIT">
<span class='line'>124</span> </span><span class="WHIT">                        </span><span class="STRN">"D"</span><span class="PUNC">:</span><span class="WHIT"> </span><span class="NAME">KeyEvent.VK_D</span><span class="PUNC">,</span><span class="WHIT">
<span class='line'>125</span> </span><span class="WHIT">                        </span><span class="STRN">"E"</span><span class="PUNC">:</span><span class="WHIT"> </span><span class="NAME">KeyEvent.VK_E</span><span class="PUNC">,</span><span class="WHIT">
<span class='line'>126</span> </span><span class="WHIT">                        </span><span class="STRN">"F"</span><span class="PUNC">:</span><span class="WHIT"> </span><span class="NAME">KeyEvent.VK_F</span><span class="PUNC">,</span><span class="WHIT">
<span class='line'>127</span> </span><span class="WHIT">                        </span><span class="STRN">"G"</span><span class="PUNC">:</span><span class="WHIT"> </span><span class="NAME">KeyEvent.VK_G</span><span class="PUNC">,</span><span class="WHIT">
<span class='line'>128</span> </span><span class="WHIT">                        </span><span class="STRN">"H"</span><span class="PUNC">:</span><span class="WHIT"> </span><span class="NAME">KeyEvent.VK_H</span><span class="PUNC">,</span><span class="WHIT">
<span class='line'>129</span> </span><span class="WHIT">                        </span><span class="STRN">"I"</span><span class="PUNC">:</span><span class="WHIT"> </span><span class="NAME">KeyEvent.VK_I</span><span class="PUNC">,</span><span class="WHIT">
<span class='line'>130</span> </span><span class="WHIT">                        </span><span class="STRN">"J"</span><span class="PUNC">:</span><span class="WHIT"> </span><span class="NAME">KeyEvent.VK_J</span><span class="PUNC">,</span><span class="WHIT">
<span class='line'>131</span> </span><span class="WHIT">                        </span><span class="STRN">"K"</span><span class="PUNC">:</span><span class="WHIT"> </span><span class="NAME">KeyEvent.VK_K</span><span class="PUNC">,</span><span class="WHIT">
<span class='line'>132</span> </span><span class="WHIT">                        </span><span class="STRN">"L"</span><span class="PUNC">:</span><span class="WHIT"> </span><span class="NAME">KeyEvent.VK_L</span><span class="PUNC">,</span><span class="WHIT">
<span class='line'>133</span> </span><span class="WHIT">                        </span><span class="STRN">"M"</span><span class="PUNC">:</span><span class="WHIT"> </span><span class="NAME">KeyEvent.VK_M</span><span class="PUNC">,</span><span class="WHIT">
<span class='line'>134</span> </span><span class="WHIT">                        </span><span class="STRN">"N"</span><span class="PUNC">:</span><span class="WHIT"> </span><span class="NAME">KeyEvent.VK_N</span><span class="PUNC">,</span><span class="WHIT">
<span class='line'>135</span> </span><span class="WHIT">                        </span><span class="STRN">"O"</span><span class="PUNC">:</span><span class="WHIT"> </span><span class="NAME">KeyEvent.VK_O</span><span class="PUNC">,</span><span class="WHIT">
<span class='line'>136</span> </span><span class="WHIT">                        </span><span class="STRN">"P"</span><span class="PUNC">:</span><span class="WHIT"> </span><span class="NAME">KeyEvent.VK_P</span><span class="PUNC">,</span><span class="WHIT">
<span class='line'>137</span> </span><span class="WHIT">                        </span><span class="STRN">"Q"</span><span class="PUNC">:</span><span class="WHIT"> </span><span class="NAME">KeyEvent.VK_Q</span><span class="PUNC">,</span><span class="WHIT">
<span class='line'>138</span> </span><span class="WHIT">                        </span><span class="STRN">"R"</span><span class="PUNC">:</span><span class="WHIT"> </span><span class="NAME">KeyEvent.VK_R</span><span class="PUNC">,</span><span class="WHIT">
<span class='line'>139</span> </span><span class="WHIT">                        </span><span class="STRN">"S"</span><span class="PUNC">:</span><span class="WHIT"> </span><span class="NAME">KeyEvent.VK_S</span><span class="PUNC">,</span><span class="WHIT">
<span class='line'>140</span> </span><span class="WHIT">                        </span><span class="STRN">"T"</span><span class="PUNC">:</span><span class="WHIT"> </span><span class="NAME">KeyEvent.VK_T</span><span class="PUNC">,</span><span class="WHIT">
<span class='line'>141</span> </span><span class="WHIT">                        </span><span class="STRN">"U"</span><span class="PUNC">:</span><span class="WHIT"> </span><span class="NAME">KeyEvent.VK_U</span><span class="PUNC">,</span><span class="WHIT">
<span class='line'>142</span> </span><span class="WHIT">                        </span><span class="STRN">"V"</span><span class="PUNC">:</span><span class="WHIT"> </span><span class="NAME">KeyEvent.VK_V</span><span class="PUNC">,</span><span class="WHIT">
<span class='line'>143</span> </span><span class="WHIT">                        </span><span class="STRN">"W"</span><span class="PUNC">:</span><span class="WHIT"> </span><span class="NAME">KeyEvent.VK_W</span><span class="PUNC">,</span><span class="WHIT">
<span class='line'>144</span> </span><span class="WHIT">                        </span><span class="STRN">"X"</span><span class="PUNC">:</span><span class="WHIT"> </span><span class="NAME">KeyEvent.VK_X</span><span class="PUNC">,</span><span class="WHIT">
<span class='line'>145</span> </span><span class="WHIT">                        </span><span class="STRN">"Y"</span><span class="PUNC">:</span><span class="WHIT"> </span><span class="NAME">KeyEvent.VK_Y</span><span class="PUNC">,</span><span class="WHIT">
<span class='line'>146</span> </span><span class="WHIT">                        </span><span class="STRN">"Z"</span><span class="PUNC">:</span><span class="WHIT"> </span><span class="NAME">KeyEvent.VK_Z</span><span class="PUNC">,</span><span class="WHIT">
<span class='line'>147</span> </span><span class="WHIT">                        </span><span class="STRN">"0"</span><span class="PUNC">:</span><span class="WHIT"> </span><span class="NAME">KeyEvent.VK_0</span><span class="PUNC">,</span><span class="WHIT">
<span class='line'>148</span> </span><span class="WHIT">                        </span><span class="STRN">"1"</span><span class="PUNC">:</span><span class="WHIT"> </span><span class="NAME">KeyEvent.VK_1</span><span class="PUNC">,</span><span class="WHIT">
<span class='line'>149</span> </span><span class="WHIT">                        </span><span class="STRN">"2"</span><span class="PUNC">:</span><span class="WHIT"> </span><span class="NAME">KeyEvent.VK_2</span><span class="PUNC">,</span><span class="WHIT">
<span class='line'>150</span> </span><span class="WHIT">                        </span><span class="STRN">"3"</span><span class="PUNC">:</span><span class="WHIT"> </span><span class="NAME">KeyEvent.VK_3</span><span class="PUNC">,</span><span class="WHIT">
<span class='line'>151</span> </span><span class="WHIT">                        </span><span class="STRN">"4"</span><span class="PUNC">:</span><span class="WHIT"> </span><span class="NAME">KeyEvent.VK_4</span><span class="PUNC">,</span><span class="WHIT">
<span class='line'>152</span> </span><span class="WHIT">                        </span><span class="STRN">"5"</span><span class="PUNC">:</span><span class="WHIT"> </span><span class="NAME">KeyEvent.VK_5</span><span class="PUNC">,</span><span class="WHIT">
<span class='line'>153</span> </span><span class="WHIT">                        </span><span class="STRN">"6"</span><span class="PUNC">:</span><span class="WHIT"> </span><span class="NAME">KeyEvent.VK_6</span><span class="PUNC">,</span><span class="WHIT">
<span class='line'>154</span> </span><span class="WHIT">                        </span><span class="STRN">"7"</span><span class="PUNC">:</span><span class="WHIT"> </span><span class="NAME">KeyEvent.VK_7</span><span class="PUNC">,</span><span class="WHIT">
<span class='line'>155</span> </span><span class="WHIT">                        </span><span class="STRN">"8"</span><span class="PUNC">:</span><span class="WHIT"> </span><span class="NAME">KeyEvent.VK_8</span><span class="PUNC">,</span><span class="WHIT">
<span class='line'>156</span> </span><span class="WHIT">                        </span><span class="STRN">"9"</span><span class="PUNC">:</span><span class="WHIT"> </span><span class="NAME">KeyEvent.VK_9</span><span class="WHIT">
<span class='line'>157</span> </span><span class="WHIT">                    </span><span class="PUNC">}</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>158</span> </span><span class="WHIT">                    </span><span class="KEYW">for</span><span class="WHIT"> </span><span class="PUNC">(</span><span class="KEYW">var</span><span class="WHIT"> </span><span class="NAME">code</span><span class="WHIT"> </span><span class="KEYW">in</span><span class="WHIT"> </span><span class="NAME">config.input.map</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class='line'>159</span> </span><span class="WHIT">                        </span><span class="KEYW">switch</span><span class="WHIT"> </span><span class="PUNC">(</span><span class="NAME">code</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class='line'>160</span> </span><span class="WHIT">                            </span><span class="KEYW">case</span><span class="WHIT"> </span><span class="STRN">"alpha"</span><span class="PUNC">:</span><span class="WHIT">
<span class='line'>161</span> </span><span class="WHIT">                                </span><span class="KEYW">var</span><span class="WHIT"> </span><span class="NAME">A</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="NAME">config.input.map</span><span class="PUNC">[</span><span class="NAME">code</span><span class="PUNC">]</span><span class="PUNC">[</span><span class="NUMB">0</span><span class="PUNC">]</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>162</span> </span><span class="WHIT">                                </span><span class="KEYW">var</span><span class="WHIT"> </span><span class="NAME">Z</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="NAME">config.input.map</span><span class="PUNC">[</span><span class="NAME">code</span><span class="PUNC">]</span><span class="PUNC">[</span><span class="NUMB">1</span><span class="PUNC">]</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>163</span> </span><span class="WHIT">                                </span><span class="KEYW">var</span><span class="WHIT"> </span><span class="NAME">AcharCode</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="STRN">"A"</span><span class="PUNC">.</span><span class="NAME">charCodeAt</span><span class="PUNC">(</span><span class="NUMB">0</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>164</span> </span><span class="WHIT">                                </span><span class="KEYW">for</span><span class="WHIT"> </span><span class="PUNC">(</span><span class="KEYW">var</span><span class="WHIT"> </span><span class="NAME">kc</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="NAME">A</span><span class="PUNC">;</span><span class="WHIT"> </span><span class="NAME">kc</span><span class="WHIT"> </span><span class="PUNC">&lt;=</span><span class="WHIT"> </span><span class="NAME">Z</span><span class="PUNC">;</span><span class="WHIT"> </span><span class="NAME">kc</span><span class="PUNC">++</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class='line'>165</span> </span><span class="WHIT">                                    </span><span class="NAME">this._keyMap</span><span class="PUNC">[</span><span class="NAME">kc.toString</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="PUNC">]</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="NAME">symbolMap</span><span class="PUNC">[</span><span class="NAME">String.fromCharCode</span><span class="PUNC">(</span><span class="PUNC">(</span><span class="NAME">kc</span><span class="WHIT"> </span><span class="PUNC">-</span><span class="WHIT"> </span><span class="NAME">A</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">+</span><span class="WHIT"> </span><span class="NAME">AcharCode</span><span class="PUNC">)</span><span class="PUNC">]</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>166</span> </span><span class="WHIT">                                </span><span class="PUNC">}</span><span class="WHIT">
<span class='line'>167</span> </span><span class="WHIT">                                </span><span class="KEYW">break</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>168</span> </span><span class="WHIT">                            </span><span class="KEYW">case</span><span class="WHIT"> </span><span class="STRN">"numeric"</span><span class="PUNC">:</span><span class="WHIT">
<span class='line'>169</span> </span><span class="WHIT">                                </span><span class="KEYW">var</span><span class="WHIT"> </span><span class="NAME">zero</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="NAME">config.input.map</span><span class="PUNC">[</span><span class="NAME">code</span><span class="PUNC">]</span><span class="PUNC">[</span><span class="NUMB">0</span><span class="PUNC">]</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>170</span> </span><span class="WHIT">                                </span><span class="KEYW">var</span><span class="WHIT"> </span><span class="NAME">nine</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="NAME">config.input.map</span><span class="PUNC">[</span><span class="NAME">code</span><span class="PUNC">]</span><span class="PUNC">[</span><span class="NUMB">1</span><span class="PUNC">]</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>171</span> </span><span class="WHIT">                                </span><span class="KEYW">var</span><span class="WHIT"> </span><span class="NAME">zeroCharCode</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="STRN">"0"</span><span class="PUNC">.</span><span class="NAME">charCodeAt</span><span class="PUNC">(</span><span class="NUMB">0</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>172</span> </span><span class="WHIT">                                </span><span class="KEYW">for</span><span class="WHIT"> </span><span class="PUNC">(</span><span class="KEYW">var</span><span class="WHIT"> </span><span class="NAME">kc</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="NAME">zero</span><span class="PUNC">;</span><span class="WHIT"> </span><span class="NAME">kc</span><span class="WHIT"> </span><span class="PUNC">&lt;=</span><span class="WHIT"> </span><span class="NAME">nine</span><span class="PUNC">;</span><span class="WHIT"> </span><span class="NAME">kc</span><span class="PUNC">++</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class='line'>173</span> </span><span class="WHIT">                                    </span><span class="NAME">this._keyMap</span><span class="PUNC">[</span><span class="NAME">kc.toString</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="PUNC">]</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="NAME">symbolMap</span><span class="PUNC">[</span><span class="NAME">String.fromCharCode</span><span class="PUNC">(</span><span class="PUNC">(</span><span class="NAME">kc</span><span class="WHIT"> </span><span class="PUNC">-</span><span class="WHIT"> </span><span class="NAME">zero</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">+</span><span class="WHIT"> </span><span class="NAME">zeroCharCode</span><span class="PUNC">)</span><span class="PUNC">]</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>174</span> </span><span class="WHIT">                                </span><span class="PUNC">}</span><span class="WHIT">
<span class='line'>175</span> </span><span class="WHIT">                                </span><span class="KEYW">break</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>176</span> </span><span class="WHIT">                            </span><span class="KEYW">default</span><span class="PUNC">:</span><span class="WHIT">
<span class='line'>177</span> </span><span class="WHIT">                                </span><span class="KEYW">var</span><span class="WHIT"> </span><span class="NAME">symbol</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="NAME">config.input.map</span><span class="PUNC">[</span><span class="NAME">code</span><span class="PUNC">]</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>178</span> </span><span class="WHIT">                                </span><span class="KEYW">if</span><span class="WHIT"> </span><span class="PUNC">(</span><span class="NAME">symbol</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class='line'>179</span> </span><span class="WHIT">                                    </span><span class="NAME">this._keyMap</span><span class="PUNC">[</span><span class="NAME">code.toString</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="PUNC">]</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="NAME">symbolMap</span><span class="PUNC">[</span><span class="NAME">symbol</span><span class="PUNC">]</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>180</span> </span><span class="WHIT">                                </span><span class="PUNC">}</span><span class="WHIT">
<span class='line'>181</span> </span><span class="WHIT">                                </span><span class="KEYW">break</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>182</span> </span><span class="WHIT">                        </span><span class="PUNC">}</span><span class="WHIT">
<span class='line'>183</span> </span><span class="WHIT">                    </span><span class="PUNC">}</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>184</span> </span><span class="WHIT">                </span><span class="PUNC">}</span><span class="WHIT">
<span class='line'>185</span> 
<span class='line'>186</span> </span><span class="WHIT">                </span><span class="KEYW">function</span><span class="WHIT"> </span><span class="NAME">ignore</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class='line'>187</span> </span><span class="WHIT">                </span><span class="PUNC">}</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>188</span> </span><span class="WHIT">                </span><span class="KEYW">var</span><span class="WHIT"> </span><span class="NAME">ignoreLoggingMethods</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT">
<span class='line'>189</span> </span><span class="WHIT">                </span><span class="PUNC">{</span><span class="WHIT">   </span><span class="NAME">log</span><span class="WHIT">     </span><span class="PUNC">:</span><span class="WHIT"> </span><span class="NAME">ignore</span><span class="PUNC">,</span><span class="WHIT">   </span><span class="NAME">debug</span><span class="WHIT">   </span><span class="PUNC">:</span><span class="WHIT"> </span><span class="NAME">ignore</span><span class="PUNC">,</span><span class="WHIT">   </span><span class="NAME">info</span><span class="WHIT">    </span><span class="PUNC">:</span><span class="WHIT"> </span><span class="NAME">ignore</span><span class="PUNC">,</span><span class="WHIT">
<span class='line'>190</span> </span><span class="WHIT">                    </span><span class="NAME">warn</span><span class="WHIT">    </span><span class="PUNC">:</span><span class="WHIT"> </span><span class="NAME">ignore</span><span class="PUNC">,</span><span class="WHIT">   </span><span class="NAME">error</span><span class="WHIT">   </span><span class="PUNC">:</span><span class="WHIT"> </span><span class="NAME">ignore</span><span class="WHIT">
<span class='line'>191</span> </span><span class="WHIT">                </span><span class="PUNC">}</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>192</span> 
<span class='line'>193</span> </span><span class="WHIT">                </span><span class="NAME">this.filteredLoggingMethods</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="NAME">filterLoggingMethods</span><span class="PUNC">(</span><span class="NAME">config</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">selectLoggingStrategy</span><span class="PUNC">(</span><span class="NAME">config</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">this.loggingStrategies</span><span class="PUNC">)</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>194</span> 
<span class='line'>195</span> </span><span class="WHIT">                </span><span class="KEYW">function</span><span class="WHIT"> </span><span class="NAME">filterLoggingMethods</span><span class="PUNC">(</span><span class="NAME">config</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">loggingMethods</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class='line'>196</span> </span><span class="WHIT">                    </span><span class="COMM">/* jshint -W086 */</span><span class="WHIT"> </span><span class="COMM">// We're falling through case statements deliberately</span><span class="WHIT">
<span class='line'>197</span> </span><span class="WHIT">                    </span><span class="KEYW">var</span><span class="WHIT"> </span><span class="NAME">filteredLogging</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="NAME">ignoreLoggingMethods</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>198</span> 
<span class='line'>199</span> </span><span class="WHIT">                    </span><span class="KEYW">if</span><span class="WHIT"> </span><span class="PUNC">(</span><span class="NAME">config.logging</span><span class="WHIT"> </span><span class="PUNC">&&</span><span class="WHIT"> </span><span class="NAME">config.logging.level</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class='line'>200</span> </span><span class="WHIT">                        </span><span class="KEYW">var</span><span class="WHIT"> </span><span class="NAME">level</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="NAME">config.logging.level</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>201</span> </span><span class="WHIT">                        </span><span class="KEYW">switch</span><span class="WHIT"> </span><span class="PUNC">(</span><span class="NAME">level</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class='line'>202</span> </span><span class="WHIT">                            </span><span class="KEYW">case</span><span class="WHIT"> </span><span class="STRN">'all'</span><span class="PUNC">:</span><span class="WHIT">
<span class='line'>203</span> </span><span class="WHIT">                            </span><span class="KEYW">case</span><span class="WHIT"> </span><span class="STRN">'debug'</span><span class="PUNC">:</span><span class="WHIT">
<span class='line'>204</span> </span><span class="WHIT">                                </span><span class="NAME">filteredLogging.debug</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="NAME">loggingMethods.debug</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>205</span> </span><span class="WHIT">                            </span><span class="KEYW">case</span><span class="WHIT"> </span><span class="STRN">'info'</span><span class="PUNC">:</span><span class="WHIT">
<span class='line'>206</span> </span><span class="WHIT">                                </span><span class="NAME">filteredLogging.info</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="NAME">loggingMethods.info</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>207</span> </span><span class="WHIT">                                </span><span class="NAME">filteredLogging.log</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="NAME">loggingMethods.log</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>208</span> </span><span class="WHIT">                            </span><span class="KEYW">case</span><span class="WHIT"> </span><span class="STRN">'warn'</span><span class="PUNC">:</span><span class="WHIT">
<span class='line'>209</span> </span><span class="WHIT">                                </span><span class="NAME">filteredLogging.warn</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="NAME">loggingMethods.warn</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>210</span> </span><span class="WHIT">                            </span><span class="KEYW">case</span><span class="WHIT"> </span><span class="STRN">'error'</span><span class="PUNC">:</span><span class="WHIT">
<span class='line'>211</span> </span><span class="WHIT">                                </span><span class="NAME">filteredLogging.error</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="NAME">loggingMethods.error</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>212</span> </span><span class="WHIT">                        </span><span class="PUNC">}</span><span class="WHIT">
<span class='line'>213</span> </span><span class="WHIT">                    </span><span class="PUNC">}</span><span class="WHIT">
<span class='line'>214</span> </span><span class="WHIT">                    </span><span class="KEYW">return</span><span class="WHIT"> </span><span class="NAME">filteredLogging</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>215</span> </span><span class="WHIT">                </span><span class="PUNC">}</span><span class="WHIT">
<span class='line'>216</span> 
<span class='line'>217</span> </span><span class="WHIT">                </span><span class="COMM">//support functions for the above</span><span class="WHIT">
<span class='line'>218</span> </span><span class="WHIT">                </span><span class="KEYW">function</span><span class="WHIT"> </span><span class="NAME">selectLoggingStrategy</span><span class="PUNC">(</span><span class="NAME">config</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">loggingStrategies</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class='line'>219</span> 
<span class='line'>220</span> </span><span class="WHIT">                    </span><span class="KEYW">if</span><span class="WHIT"> </span><span class="PUNC">(</span><span class="NAME">config.logging</span><span class="WHIT"> </span><span class="PUNC">&&</span><span class="WHIT"> </span><span class="NAME">config.logging.strategy</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class='line'>221</span> </span><span class="WHIT">                        </span><span class="KEYW">var</span><span class="WHIT"> </span><span class="NAME">configuredLoggingStrategy</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="STRN">'antie/'</span><span class="WHIT"> </span><span class="PUNC">+</span><span class="WHIT"> </span><span class="STRN">'devices/'</span><span class="WHIT"> </span><span class="PUNC">+</span><span class="WHIT"> </span><span class="STRN">'logging/'</span><span class="WHIT"> </span><span class="PUNC">+</span><span class="WHIT"> </span><span class="NAME">config.logging.strategy</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>222</span> 
<span class='line'>223</span> </span><span class="WHIT">                        </span><span class="KEYW">if</span><span class="WHIT"> </span><span class="PUNC">(</span><span class="NAME">loggingStrategies</span><span class="PUNC">[</span><span class="NAME">configuredLoggingStrategy</span><span class="PUNC">]</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class='line'>224</span> </span><span class="WHIT">                            </span><span class="KEYW">return</span><span class="WHIT"> </span><span class="NAME">loggingStrategies</span><span class="PUNC">[</span><span class="NAME">configuredLoggingStrategy</span><span class="PUNC">]</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>225</span> </span><span class="WHIT">                        </span><span class="PUNC">}</span><span class="WHIT">
<span class='line'>226</span> </span><span class="WHIT">                    </span><span class="PUNC">}</span><span class="WHIT">
<span class='line'>227</span> 
<span class='line'>228</span> </span><span class="WHIT">                    </span><span class="COMM">//no logging methods set - use default logging</span><span class="WHIT">
<span class='line'>229</span> </span><span class="WHIT">                    </span><span class="KEYW">var</span><span class="WHIT"> </span><span class="NAME">selectedLoggingStrategy</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="NAME">loggingStrategies</span><span class="PUNC">[</span><span class="WHIT"> </span><span class="STRN">'antie/devices/logging/default'</span><span class="WHIT"> </span><span class="PUNC">]</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>230</span> 
<span class='line'>231</span> </span><span class="WHIT">                    </span><span class="KEYW">if</span><span class="WHIT"> </span><span class="PUNC">(</span><span class="PUNC">!</span><span class="NAME">selectedLoggingStrategy</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class='line'>232</span> </span><span class="WHIT">                        </span><span class="NAME">selectedLoggingStrategy</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="NAME">loggingStrategies</span><span class="PUNC">[</span><span class="WHIT"> </span><span class="STRN">'antie/devices/logging/onscreen'</span><span class="WHIT"> </span><span class="PUNC">]</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>233</span> </span><span class="WHIT">                    </span><span class="PUNC">}</span><span class="WHIT">
<span class='line'>234</span> 
<span class='line'>235</span> </span><span class="WHIT">                    </span><span class="COMM">//still no available logging method - default to ignore</span><span class="WHIT">
<span class='line'>236</span> </span><span class="WHIT">                    </span><span class="KEYW">if</span><span class="WHIT"> </span><span class="PUNC">(</span><span class="PUNC">!</span><span class="NAME">selectedLoggingStrategy</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class='line'>237</span> </span><span class="WHIT">                        </span><span class="NAME">selectedLoggingStrategy</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="NAME">ignoreLoggingMethods</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>238</span> </span><span class="WHIT">                    </span><span class="PUNC">}</span><span class="WHIT">
<span class='line'>239</span> </span><span class="WHIT">                    </span><span class="KEYW">return</span><span class="WHIT"> </span><span class="NAME">selectedLoggingStrategy</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>240</span> </span><span class="WHIT">                </span><span class="PUNC">}</span><span class="WHIT">
<span class='line'>241</span> </span><span class="WHIT">            </span><span class="PUNC">}</span><span class="PUNC">,</span><span class="WHIT">
<span class='line'>242</span> </span><span class="WHIT">            </span><span class="COMM">/**
<span class='line'>243</span>              * Set a reference to the application the device is running.
<span class='line'>244</span>              * @param {antie.Application} application The application the device is running.
<span class='line'>245</span>              */</span><span class="WHIT">
<span class='line'>246</span> </span><span class="WHIT">            </span><span class="NAME">setApplication</span><span class="PUNC">:</span><span class="WHIT"> </span><span class="KEYW">function</span><span class="PUNC">(</span><span class="NAME">application</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class='line'>247</span> </span><span class="WHIT">                </span><span class="NAME">this._application</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="NAME">application</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>248</span> </span><span class="WHIT">            </span><span class="PUNC">}</span><span class="PUNC">,</span><span class="WHIT">
<span class='line'>249</span> </span><span class="WHIT">            </span><span class="COMM">/**
<span class='line'>250</span>              * Gets the current device configuration.
<span class='line'>251</span>              * @returns The current device configuration document.
<span class='line'>252</span>              */</span><span class="WHIT">
<span class='line'>253</span> </span><span class="WHIT">            </span><span class="NAME">getConfig</span><span class="PUNC">:</span><span class="WHIT"> </span><span class="KEYW">function</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class='line'>254</span> </span><span class="WHIT">                </span><span class="KEYW">return</span><span class="WHIT"> </span><span class="NAME">this._config</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>255</span> </span><span class="WHIT">            </span><span class="PUNC">}</span><span class="PUNC">,</span><span class="WHIT">
<span class='line'>256</span> </span><span class="WHIT">            </span><span class="COMM">/**
<span class='line'>257</span>              * Gets the available screen size.
<span class='line'>258</span>              * @returns An object with width and height properties.
<span class='line'>259</span>              */</span><span class="WHIT">
<span class='line'>260</span> </span><span class="WHIT">            </span><span class="NAME">getScreenSize</span><span class="PUNC">:</span><span class="WHIT"> </span><span class="KEYW">function</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class='line'>261</span> </span><span class="WHIT">                </span><span class="KEYW">throw</span><span class="WHIT"> </span><span class="KEYW">new</span><span class="WHIT"> </span><span class="NAME">Error</span><span class="PUNC">(</span><span class="STRN">'Device::getScreenSize not implemented by current Device subclass.'</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>262</span> </span><span class="WHIT">            </span><span class="PUNC">}</span><span class="PUNC">,</span><span class="WHIT">
<span class='line'>263</span> </span><span class="WHIT">            </span><span class="COMM">/**
<span class='line'>264</span>              * Get the logging object for the current device.
<span class='line'>265</span>              * @returns The current device logging object.
<span class='line'>266</span>              */</span><span class="WHIT">
<span class='line'>267</span> </span><span class="WHIT">            </span><span class="NAME">getLogger</span><span class="PUNC">:</span><span class="WHIT"> </span><span class="KEYW">function</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class='line'>268</span> </span><span class="WHIT">                </span><span class="KEYW">return</span><span class="WHIT"> </span><span class="NAME">this.filteredLoggingMethods</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>269</span> </span><span class="WHIT">            </span><span class="PUNC">}</span><span class="PUNC">,</span><span class="WHIT">
<span class='line'>270</span> </span><span class="WHIT">            </span><span class="COMM">/**
<span class='line'>271</span>              * -PROTECTED- Creates a generic container element in the device's user-agent.
<span class='line'>272</span>              * Do not use outside of antie. Create {@link antie.widgets.Container} objects to use containers within applications.
<span class='line'>273</span>              * @protected
<span class='line'>274</span>              * @param {String} [id] The id of the element to create.
<span class='line'>275</span>              * @param {Array} [classNames] An array of class names to apply to the element.
<span class='line'>276</span>              * @returns A container element within the device's user-agent.
<span class='line'>277</span>              */</span><span class="WHIT">
<span class='line'>278</span> </span><span class="WHIT">            </span><span class="NAME">createContainer</span><span class="PUNC">:</span><span class="WHIT"> </span><span class="KEYW">function</span><span class="PUNC">(</span><span class="NAME">id</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">classNames</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class='line'>279</span> </span><span class="WHIT">            </span><span class="PUNC">}</span><span class="PUNC">,</span><span class="WHIT">
<span class='line'>280</span> </span><span class="WHIT">            </span><span class="COMM">/**
<span class='line'>281</span>              * -PROTECTED- Creates a label (an element that only contains text) in the device's user-agent.
<span class='line'>282</span>              * Do not use outside of antie. Create {@link antie.widgets.Label} objects if you need to use labels within an application.
<span class='line'>283</span>              * @protected
<span class='line'>284</span>              * @param {String} [id] The id of the element to create.
<span class='line'>285</span>              * @param {Array} [classNames] An array of class names to apply to the element.
<span class='line'>286</span>              * @param {String} [text] The text within the label.
<span class='line'>287</span>              * @returns A label within the device's user-agent.
<span class='line'>288</span>              */</span><span class="WHIT">
<span class='line'>289</span> </span><span class="WHIT">            </span><span class="NAME">createLabel</span><span class="PUNC">:</span><span class="WHIT"> </span><span class="KEYW">function</span><span class="PUNC">(</span><span class="NAME">id</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">classNames</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">text</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class='line'>290</span> </span><span class="WHIT">            </span><span class="PUNC">}</span><span class="PUNC">,</span><span class="WHIT">
<span class='line'>291</span> </span><span class="WHIT">            </span><span class="COMM">/**
<span class='line'>292</span>              * -PROTECTED- Creates a button (an element that can be selected by the user to perform an action) in the device's user-agent.
<span class='line'>293</span>              * Do not use outside of antie. Create {@link antie.widgets.Button} objects if you need to use buttons within an application.
<span class='line'>294</span>              * @protected
<span class='line'>295</span>              * @param {String} [id] The id of the element to create.
<span class='line'>296</span>              * @param {Array} [classNames] An array of class names to apply to the element.
<span class='line'>297</span>              * @returns A button within the device's user-agent.
<span class='line'>298</span>              */</span><span class="WHIT">
<span class='line'>299</span> </span><span class="WHIT">            </span><span class="NAME">createButton</span><span class="PUNC">:</span><span class="WHIT"> </span><span class="KEYW">function</span><span class="PUNC">(</span><span class="NAME">id</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">classNames</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class='line'>300</span> </span><span class="WHIT">            </span><span class="PUNC">}</span><span class="PUNC">,</span><span class="WHIT">
<span class='line'>301</span> </span><span class="WHIT">            </span><span class="COMM">/**
<span class='line'>302</span>              * -PROTECTED- Creates a list in the device's user-agent.
<span class='line'>303</span>              * Do not use outside of antie. Create {@link antie.widgets.List} objects if you need to use lists within an application.
<span class='line'>304</span>              * @protected
<span class='line'>305</span>              * @param {String} [id] The id of the element to create.
<span class='line'>306</span>              * @param {Array} [classNames] An array of class names to apply to the element.
<span class='line'>307</span>              * @returns A list within the device's user-agent.
<span class='line'>308</span>              */</span><span class="WHIT">
<span class='line'>309</span> </span><span class="WHIT">            </span><span class="NAME">createList</span><span class="PUNC">:</span><span class="WHIT"> </span><span class="KEYW">function</span><span class="PUNC">(</span><span class="NAME">id</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">classNames</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class='line'>310</span> </span><span class="WHIT">            </span><span class="PUNC">}</span><span class="PUNC">,</span><span class="WHIT">
<span class='line'>311</span> </span><span class="WHIT">            </span><span class="COMM">/**
<span class='line'>312</span>              * -PROTECTED- Creates a list item in the device's user-agent.
<span class='line'>313</span>              * Do not use outside of antie. Create {@link antie.widgets.ListItem} objects or add widgets to a List if you want use list items within an application
<span class='line'>314</span>              * @protected
<span class='line'>315</span>              * @param {String} [id] The id of the element to create.
<span class='line'>316</span>              * @param {Array} [classNames] An array of class names to apply to the element.
<span class='line'>317</span>              * @returns A list item within the device's user-agent.
<span class='line'>318</span>              */</span><span class="WHIT">
<span class='line'>319</span> </span><span class="WHIT">            </span><span class="NAME">createListItem</span><span class="PUNC">:</span><span class="WHIT"> </span><span class="KEYW">function</span><span class="PUNC">(</span><span class="NAME">id</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">classNames</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class='line'>320</span> </span><span class="WHIT">            </span><span class="PUNC">}</span><span class="PUNC">,</span><span class="WHIT">
<span class='line'>321</span> </span><span class="WHIT">            </span><span class="COMM">/**
<span class='line'>322</span>              * -PROTECTED- Creates an image in the device's user-agent.
<span class='line'>323</span>              * Do not use outside of antie. Create {@link antie.widgets.Image} objects if you want to use images within an application
<span class='line'>324</span>              * @protected
<span class='line'>325</span>              * @param {String} [id] The id of the element to create.
<span class='line'>326</span>              * @param {Array} [classNames] An array of class names to apply to the element.
<span class='line'>327</span>              * @param {String} src The source URL of the image.
<span class='line'>328</span>              * @returns An image within the device's user-agent.
<span class='line'>329</span>              */</span><span class="WHIT">
<span class='line'>330</span> </span><span class="WHIT">            </span><span class="NAME">createImage</span><span class="PUNC">:</span><span class="WHIT"> </span><span class="KEYW">function</span><span class="PUNC">(</span><span class="NAME">id</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">classNames</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">src</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class='line'>331</span> </span><span class="WHIT">            </span><span class="PUNC">}</span><span class="PUNC">,</span><span class="WHIT">
<span class='line'>332</span> </span><span class="WHIT">            </span><span class="COMM">/**
<span class='line'>333</span>              * Appends an element as a child of another.
<span class='line'>334</span>              * @param {Element} to Append as a child of this element.
<span class='line'>335</span>              * @param {Element} el The new child element.
<span class='line'>336</span>              */</span><span class="WHIT">
<span class='line'>337</span> </span><span class="WHIT">            </span><span class="NAME">appendChildElement</span><span class="PUNC">:</span><span class="WHIT"> </span><span class="KEYW">function</span><span class="PUNC">(</span><span class="NAME">to</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">el</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class='line'>338</span> </span><span class="WHIT">            </span><span class="PUNC">}</span><span class="PUNC">,</span><span class="WHIT">
<span class='line'>339</span> </span><span class="WHIT">            </span><span class="COMM">/**
<span class='line'>340</span>              * Sets the classes of an element.
<span class='line'>341</span>              * @param {Element} el The element which will receive new class names.
<span class='line'>342</span>              * @param {Array} classNames An array of class names.
<span class='line'>343</span>              */</span><span class="WHIT">
<span class='line'>344</span> </span><span class="WHIT">            </span><span class="NAME">setElementClasses</span><span class="PUNC">:</span><span class="WHIT"> </span><span class="KEYW">function</span><span class="PUNC">(</span><span class="NAME">el</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">classNames</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class='line'>345</span> </span><span class="WHIT">            </span><span class="PUNC">}</span><span class="PUNC">,</span><span class="WHIT">
<span class='line'>346</span> </span><span class="WHIT">            </span><span class="COMM">/**
<span class='line'>347</span>              * Removes a class from an element (and optionally descendants)
<span class='line'>348</span>              * @param {Element} el The element from which to remove the class.
<span class='line'>349</span>              * @param {String} className The class to remove.
<span class='line'>350</span>              * @param {Boolean} [deep] If true, and this element has the given class, remove the class from it's children recursively.
<span class='line'>351</span>              */</span><span class="WHIT">
<span class='line'>352</span> </span><span class="WHIT">            </span><span class="NAME">removeClassFromElement</span><span class="PUNC">:</span><span class="WHIT"> </span><span class="KEYW">function</span><span class="PUNC">(</span><span class="NAME">el</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">className</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">deep</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class='line'>353</span> </span><span class="WHIT">            </span><span class="PUNC">}</span><span class="PUNC">,</span><span class="WHIT">
<span class='line'>354</span> </span><span class="WHIT">            </span><span class="COMM">/**
<span class='line'>355</span>              * Adds a class name to an element
<span class='line'>356</span>              * @param {Element} el The element which will receive new class name.
<span class='line'>357</span>              * @param {String} className The new class name to add.
<span class='line'>358</span>              */</span><span class="WHIT">
<span class='line'>359</span> </span><span class="WHIT">            </span><span class="NAME">addClassToElement</span><span class="PUNC">:</span><span class="WHIT"> </span><span class="KEYW">function</span><span class="PUNC">(</span><span class="NAME">el</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">className</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class='line'>360</span> </span><span class="WHIT">            </span><span class="PUNC">}</span><span class="PUNC">,</span><span class="WHIT">
<span class='line'>361</span> </span><span class="WHIT">            </span><span class="COMM">/**
<span class='line'>362</span>              * Adds global key event listener(s) to the user-agent.
<span class='line'>363</span>              * This must be added in a way that all key events within the user-agent
<span class='line'>364</span>              * cause self._application.bubbleEvent(...) to be called with a {@link KeyEvent}
<span class='line'>365</span>              * object with the mapped keyCode.
<span class='line'>366</span>              *
<span class='line'>367</span>              * @example
<span class='line'>368</span>              * document.onkeydown = function(e) {
<span class='line'>369</span>              *     self._application.bubbleEvent(new KeyEvent("keydown", keyMap[e.keyCode]));
<span class='line'>370</span>              * };
<span class='line'>371</span>              */</span><span class="WHIT">
<span class='line'>372</span> </span><span class="WHIT">            </span><span class="NAME">addKeyEventListener</span><span class="PUNC">:</span><span class="WHIT"> </span><span class="KEYW">function</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class='line'>373</span> </span><span class="WHIT">            </span><span class="PUNC">}</span><span class="PUNC">,</span><span class="WHIT">
<span class='line'>374</span> </span><span class="WHIT">            </span><span class="COMM">/**
<span class='line'>375</span>              * Returns all direct children of an element which have the provided tagName.
<span class='line'>376</span>              * @param {Element} el The element who's children you wish to search.
<span class='line'>377</span>              * @param {String} tagName The tag name you are looking for.
<span class='line'>378</span>              * @returns An array of elements having the provided tag name.
<span class='line'>379</span>              */</span><span class="WHIT">
<span class='line'>380</span> </span><span class="WHIT">            </span><span class="NAME">getChildElementsByTagName</span><span class="PUNC">:</span><span class="WHIT"> </span><span class="KEYW">function</span><span class="PUNC">(</span><span class="NAME">el</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">tagName</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class='line'>381</span> </span><span class="WHIT">            </span><span class="PUNC">}</span><span class="PUNC">,</span><span class="WHIT">
<span class='line'>382</span> </span><span class="WHIT">            </span><span class="COMM">/**
<span class='line'>383</span>              * Returns the top-level element. This is the target of layout class names.
<span class='line'>384</span>              * @return The top-level DOM element.
<span class='line'>385</span>              */</span><span class="WHIT">
<span class='line'>386</span> </span><span class="WHIT">            </span><span class="NAME">getTopLevelElement</span><span class="PUNC">:</span><span class="WHIT"> </span><span class="KEYW">function</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class='line'>387</span> </span><span class="WHIT">            </span><span class="PUNC">}</span><span class="PUNC">,</span><span class="WHIT">
<span class='line'>388</span> </span><span class="WHIT">            </span><span class="COMM">/**
<span class='line'>389</span>              * Returns all the loaded stylesheet elements.
<span class='line'>390</span>              * @return An array containing all loaded stylesheet elements (link and style elements)
<span class='line'>391</span>              */</span><span class="WHIT">
<span class='line'>392</span> </span><span class="WHIT">            </span><span class="NAME">getStylesheetElements</span><span class="PUNC">:</span><span class="WHIT"> </span><span class="KEYW">function</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class='line'>393</span> </span><span class="WHIT">            </span><span class="PUNC">}</span><span class="PUNC">,</span><span class="WHIT">
<span class='line'>394</span> </span><span class="WHIT">            </span><span class="COMM">/**
<span class='line'>395</span>              * Returns the offset of the element within its offset container.
<span class='line'>396</span>              * @param {Element} el The element you wish to know the offset of.
<span class='line'>397</span>              * @return An literal object containing properties, top and left.
<span class='line'>398</span>              */</span><span class="WHIT">
<span class='line'>399</span> </span><span class="WHIT">            </span><span class="NAME">getElementOffset</span><span class="PUNC">:</span><span class="WHIT"> </span><span class="KEYW">function</span><span class="PUNC">(</span><span class="NAME">el</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class='line'>400</span> </span><span class="WHIT">            </span><span class="PUNC">}</span><span class="PUNC">,</span><span class="WHIT">
<span class='line'>401</span> </span><span class="WHIT">            </span><span class="COMM">/**
<span class='line'>402</span>              * Gets the size of an element.
<span class='line'>403</span>              * @param {Element} el The element of which to return the size.
<span class='line'>404</span>              * @returns A size object containing the width and height of the element.
<span class='line'>405</span>              */</span><span class="WHIT">
<span class='line'>406</span> </span><span class="WHIT">            </span><span class="NAME">getElementSize</span><span class="PUNC">:</span><span class="WHIT"> </span><span class="KEYW">function</span><span class="PUNC">(</span><span class="NAME">el</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class='line'>407</span> </span><span class="WHIT">            </span><span class="PUNC">}</span><span class="PUNC">,</span><span class="WHIT">
<span class='line'>408</span> </span><span class="WHIT">            </span><span class="COMM">/**
<span class='line'>409</span>              * Sets the size of an element.
<span class='line'>410</span>              * @param {Element} el The element of which to set the size.
<span class='line'>411</span>              * @param {Size} size The new size of the element.
<span class='line'>412</span>              */</span><span class="WHIT">
<span class='line'>413</span> </span><span class="WHIT">            </span><span class="NAME">setElementSize</span><span class="PUNC">:</span><span class="WHIT"> </span><span class="KEYW">function</span><span class="PUNC">(</span><span class="NAME">el</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">size</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class='line'>414</span> </span><span class="WHIT">            </span><span class="PUNC">}</span><span class="PUNC">,</span><span class="WHIT">
<span class='line'>415</span> </span><span class="WHIT">            </span><span class="COMM">/**
<span class='line'>416</span>              * -PROTECTED- Scroll an element (within some masking container) so that its top-left corner is at the given position.
<span class='line'>417</span>              * Note, fps duration and easing parameters currently only implemented when using styletopleft modifier.
<span class='line'>418</span>              * Do not use from within applications, instead use scrolling methods on the widget you wish to scroll. This method may be deprecated in future.
<span class='line'>419</span>              * @param {Object} options
<span class='line'>420</span>              * @param {Element} options.el The element you wish to scroll.
<span class='line'>421</span>              * @param {Integer} [options.to.left] The x-coordinate you wish to position the top-left corner on. If null, the x-coordinate will not be altered.
<span class='line'>422</span>              * @param {Integer} [options.to.top] The y-coordinate you wish to position the top-left corner on. If null, the y-coordinate will not be altered.
<span class='line'>423</span>              * @param {Boolean} [options.skipAnim] By default the movement will be animated, pass &lt;code>true&lt;/code> here to prevent animation.
<span class='line'>424</span>              * @param {Function} [options.onComplete] Callback function to be called when the scroll has been completed.
<span class='line'>425</span>              * @param {Number} [options.fps=25] Frames per second for scroll animation
<span class='line'>426</span>              * @param {Number} [options.duration=840] Duration of scroll animation in milliseconds (ms).
<span class='line'>427</span>              * @param {String} [options.easing.linear] Easing move for scroll animation.
<span class='line'>428</span>              * @returns {Object} A handle to any animation started
<span class='line'>429</span>              * @see antie.devices.Device#stopAnimation
<span class='line'>430</span>              */</span><span class="WHIT">
<span class='line'>431</span> </span><span class="WHIT">            </span><span class="NAME">scrollElementTo</span><span class="PUNC">:</span><span class="WHIT"> </span><span class="KEYW">function</span><span class="PUNC">(</span><span class="NAME">options</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class='line'>432</span> </span><span class="WHIT">            </span><span class="PUNC">}</span><span class="PUNC">,</span><span class="WHIT">
<span class='line'>433</span> </span><span class="WHIT">            </span><span class="COMM">/**
<span class='line'>434</span>              * -PROTECTED- Moves an element so that its top-left corner is at the given position.
<span class='line'>435</span>              * Note, fps duration and easing parameters currently only implemented when using styletopleft modifier.
<span class='line'>436</span>              * Do not use from within applications, instead use the animation methods on the widget you want to move
<span class='line'>437</span>              * @param {Object} options
<span class='line'>438</span>              * @param {Element} options.el The element you wish to move.
<span class='line'>439</span>              * @param {Integer} [options.to.left] The x-coordinate you wish to position the top-left corner on. If null, the x-coordinate will not be altered.
<span class='line'>440</span>              * @param {Integer} [options.to.top] The y-coordinate you wish to position the top-left corner on. If null, the y-coordinate will not be altered.
<span class='line'>441</span>              * @param {Boolean} [options.skipAnim] By default the movement will be animated, pass &lt;code>true&lt;/code> here to prevent animation.
<span class='line'>442</span>              * @param {Function} [options.onComplete] Callback function to be called when the move has been completed.
<span class='line'>443</span>              * @param {Number} [options.fps=25] Frames per second for move animation
<span class='line'>444</span>              * @param {Number} [options.duration=840] Duration of move animation in milliseconds (ms).
<span class='line'>445</span>              * @param {String} [options.easing.linear] Easing move for scroll animation.
<span class='line'>446</span>              * @returns {Object} A handle to any animation started
<span class='line'>447</span>              * @see #stopAnimation
<span class='line'>448</span>              */</span><span class="WHIT">
<span class='line'>449</span> </span><span class="WHIT">            </span><span class="NAME">moveElementTo</span><span class="PUNC">:</span><span class="WHIT"> </span><span class="KEYW">function</span><span class="PUNC">(</span><span class="NAME">options</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class='line'>450</span> </span><span class="WHIT">            </span><span class="PUNC">}</span><span class="PUNC">,</span><span class="WHIT">
<span class='line'>451</span> </span><span class="WHIT">            </span><span class="COMM">/**
<span class='line'>452</span>              * -PROTECTED- Hides an element.
<span class='line'>453</span>              * Note, fps duration and easing parameters currently only implemented when using styletopleft modifier.
<span class='line'>454</span>              * Do not use from within applications, instead use the animation methods on the widget you want to hide.
<span class='line'>455</span>              * @param {Object}  options Details of the element to be hidden, with optional parameters.
<span class='line'>456</span>              * @param {Element} options.el The element you wish to hide.
<span class='line'>457</span>              * @param {Boolean} [options.skipAnim] By default the hiding of the element will be animated (faded out). Pass &lt;code>true&lt;/code> here to prevent animation.
<span class='line'>458</span>              * @param {Function} [options.onComplete] Callback function to be called when the element has been hidden.
<span class='line'>459</span>              * @param {Number}  [options.fps=25] Frames per second for fade animation.
<span class='line'>460</span>              * @param {Number}  [options.duration=840] Duration of fade animation, in milliseconds (ms).
<span class='line'>461</span>              * @param {String}  [options.easing=linear] Easing style for fade animation.
<span class='line'>462</span>              * @returns {Object} A handle to any animation started.
<span class='line'>463</span>              * @see #stopAnimation
<span class='line'>464</span>              */</span><span class="WHIT">
<span class='line'>465</span> </span><span class="WHIT">            </span><span class="NAME">hideElement</span><span class="PUNC">:</span><span class="WHIT"> </span><span class="KEYW">function</span><span class="PUNC">(</span><span class="NAME">options</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class='line'>466</span> </span><span class="WHIT">            </span><span class="PUNC">}</span><span class="PUNC">,</span><span class="WHIT">
<span class='line'>467</span> </span><span class="WHIT">            </span><span class="COMM">/**
<span class='line'>468</span>              * -PROTECTED- Shows an element.
<span class='line'>469</span>              * Note, fps duration and easing parameters currently only implemented when using styletopleft modifier.
<span class='line'>470</span>              * Do not use from within applications, instead use the animation methods on the widget you want to hide.
<span class='line'>471</span>              * @param {Object}  options Details of the element to be shown, with optional parameters.
<span class='line'>472</span>              * @param {Element} options.el The element you wish to show.
<span class='line'>473</span>              * @param {Boolean} [options.skipAnim] By default the showing of the element will be animated (faded in). Pass &lt;code>true&lt;/code> here to prevent animation.
<span class='line'>474</span>              * @param {Function} [options.onComplete] Callback function to be called when the element has been shown.
<span class='line'>475</span>              * @param {Number}  [options.fps=25] Frames per second for fade animation.
<span class='line'>476</span>              * @param {Number}  [options.duration=840] Duration of fade animation, in milliseconds (ms).
<span class='line'>477</span>              * @param {String}  [options.easing=linear] Easing style for fade animation.
<span class='line'>478</span>              * @returns {Object} A handle to any animation started.
<span class='line'>479</span>              * @see #stopAnimation
<span class='line'>480</span>              */</span><span class="WHIT">
<span class='line'>481</span> </span><span class="WHIT">            </span><span class="NAME">showElement</span><span class="PUNC">:</span><span class="WHIT"> </span><span class="KEYW">function</span><span class="PUNC">(</span><span class="NAME">options</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class='line'>482</span> </span><span class="WHIT">            </span><span class="PUNC">}</span><span class="PUNC">,</span><span class="WHIT">
<span class='line'>483</span> </span><span class="WHIT">            </span><span class="COMM">/**
<span class='line'>484</span>              * -PROTECTED- Tweens a property (or properties) of an element's style from one value to another.
<span class='line'>485</span>              * Note fps only used by styletopleft modifier.
<span class='line'>486</span>              * @param {Object} options Details of the element whose style will be tweened, with parameters describing tween.
<span class='line'>487</span>              * @param {Element} options.el The element with a style you wish to tween.
<span class='line'>488</span>              * @param {Object} options.to A property: value map of the style properties you wish to tween and the numerical value of its destination, e.g { width: 30 }
<span class='line'>489</span>              * @param {Number} options.duration: The duration of the tween in ms
<span class='line'>490</span>              * @param {Object} options.from A property: value map of the style properties you wish to set at the start of the animation, e.g. { width: 0 }. If unset, the existing value will be used.
<span class='line'>491</span>              * @param {Boolean} [options.skipAnim] By default the tween will be animated. Set this to true for the tween to occur immediately. Any onComplete callback will still fire.
<span class='line'>492</span>              * @param {Function} [options.onComplete] Callback function to be called when the tween is complete.
<span class='line'>493</span>              * @param {String} [options.easing] Easing style for animation.
<span class='line'>494</span>              * @param {Object} [options.units] Units to be appended to the style values in a property -> value map. (e.g. { width: 'px' }). Defaults are set in antie.devices.anim.shared.transitionendpoints
<span class='line'>495</span>              * @param {Number} [options.fps] Frames per second of animation (styletopleft only)
<span class='line'>496</span>              * @returns {Object} A handle to animation started. This should only be used for passing to stopAnimation and nothing else should be inferred by its value. If no animation occurs, null may be returned but should not be used as an indicator.
<span class='line'>497</span>              */</span><span class="WHIT">
<span class='line'>498</span> </span><span class="WHIT">            </span><span class="NAME">tweenElementStyle</span><span class="PUNC">:</span><span class="WHIT"> </span><span class="KEYW">function</span><span class="PUNC">(</span><span class="NAME">options</span><span class="PUNC">)</span><span class="PUNC">{</span><span class="WHIT">
<span class='line'>499</span> 
<span class='line'>500</span> </span><span class="WHIT">            </span><span class="PUNC">}</span><span class="PUNC">,</span><span class="WHIT">
<span class='line'>501</span> </span><span class="WHIT">            </span><span class="COMM">/**
<span class='line'>502</span>              * Stops the specified animation. The any completeHandler for the animation will be executed.
<span class='line'>503</span>              * @param {object} anim A handle to the animation you wish to stop.
<span class='line'>504</span>              */</span><span class="WHIT">
<span class='line'>505</span> </span><span class="WHIT">            </span><span class="NAME">stopAnimation</span><span class="PUNC">:</span><span class="WHIT"> </span><span class="KEYW">function</span><span class="PUNC">(</span><span class="NAME">anim</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class='line'>506</span> </span><span class="WHIT">            </span><span class="PUNC">}</span><span class="PUNC">,</span><span class="WHIT">
<span class='line'>507</span> </span><span class="WHIT">            </span><span class="COMM">/**
<span class='line'>508</span>              * Encodes an object as JSON.
<span class='line'>509</span>              * @param {object} obj Object to encode.
<span class='line'>510</span>              */</span><span class="WHIT">
<span class='line'>511</span> </span><span class="WHIT">            </span><span class="NAME">encodeJson</span><span class="PUNC">:</span><span class="WHIT"> </span><span class="KEYW">function</span><span class="PUNC">(</span><span class="NAME">obj</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class='line'>512</span> </span><span class="WHIT">            </span><span class="PUNC">}</span><span class="PUNC">,</span><span class="WHIT">
<span class='line'>513</span> </span><span class="WHIT">            </span><span class="COMM">/**
<span class='line'>514</span>              * Decodes JSON.
<span class='line'>515</span>              * @param {String} json JSON to decode.
<span class='line'>516</span>              */</span><span class="WHIT">
<span class='line'>517</span> </span><span class="WHIT">            </span><span class="NAME">decodeJson</span><span class="PUNC">:</span><span class="WHIT"> </span><span class="KEYW">function</span><span class="PUNC">(</span><span class="NAME">json</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class='line'>518</span> </span><span class="WHIT">            </span><span class="PUNC">}</span><span class="PUNC">,</span><span class="WHIT">
<span class='line'>519</span> </span><span class="WHIT">            </span><span class="COMM">/**
<span class='line'>520</span>              * Gets the current key map from the device configuration.
<span class='line'>521</span>              * @returns The current key map.
<span class='line'>522</span>              */</span><span class="WHIT">
<span class='line'>523</span> </span><span class="WHIT">            </span><span class="NAME">getKeyMap</span><span class="PUNC">:</span><span class="WHIT"> </span><span class="KEYW">function</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class='line'>524</span> </span><span class="WHIT">                </span><span class="KEYW">return</span><span class="WHIT"> </span><span class="NAME">this._keyMap</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>525</span> </span><span class="WHIT">            </span><span class="PUNC">}</span><span class="PUNC">,</span><span class="WHIT">
<span class='line'>526</span> </span><span class="WHIT">            </span><span class="COMM">/**
<span class='line'>527</span>              * Creates a player element.
<span class='line'>528</span>              * @see antie.devices.media
<span class='line'>529</span>              * @param {String} id The ID of the player element.
<span class='line'>530</span>              * @param {String} mediaType "video" or "radio".
<span class='line'>531</span>              * @returns A player element.
<span class='line'>532</span>              */</span><span class="WHIT">
<span class='line'>533</span> </span><span class="WHIT">            </span><span class="NAME">createPlayer</span><span class="PUNC">:</span><span class="WHIT"> </span><span class="KEYW">function</span><span class="PUNC">(</span><span class="NAME">id</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">mediaType</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class='line'>534</span> </span><span class="WHIT">            </span><span class="PUNC">}</span><span class="PUNC">,</span><span class="WHIT">
<span class='line'>535</span> </span><span class="WHIT">            </span><span class="COMM">/**
<span class='line'>536</span>              * Gets the player embed mode for the current device
<span class='line'>537</span>              * @param {String} mediaType "video" or "radio".
<span class='line'>538</span>              * @returns The embed mode of the current player
<span class='line'>539</span>              */</span><span class="WHIT">
<span class='line'>540</span> </span><span class="WHIT">            </span><span class="NAME">getPlayerEmbedMode</span><span class="PUNC">:</span><span class="WHIT"> </span><span class="KEYW">function</span><span class="PUNC">(</span><span class="NAME">mediaType</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class='line'>541</span> </span><span class="WHIT">                </span><span class="COMM">// mediaType: video or audio</span><span class="WHIT">
<span class='line'>542</span> </span><span class="WHIT">            </span><span class="PUNC">}</span><span class="PUNC">,</span><span class="WHIT">
<span class='line'>543</span> </span><span class="WHIT">            </span><span class="COMM">/**
<span class='line'>544</span>              * Sets the current route (a reference pointing to a location within the application).
<span class='line'>545</span>              * @param {Array} route A route pointing to a location within the application.
<span class='line'>546</span>              */</span><span class="WHIT">
<span class='line'>547</span> </span><span class="WHIT">            </span><span class="NAME">setCurrentRoute</span><span class="PUNC">:</span><span class="WHIT"> </span><span class="KEYW">function</span><span class="PUNC">(</span><span class="NAME">route</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class='line'>548</span> </span><span class="WHIT">            </span><span class="PUNC">}</span><span class="PUNC">,</span><span class="WHIT">
<span class='line'>549</span> </span><span class="WHIT">            </span><span class="COMM">/**
<span class='line'>550</span>              * Gets the current route (a reference pointing to a location within the application).
<span class='line'>551</span>              * @returns The current route (location within the application).
<span class='line'>552</span>              */</span><span class="WHIT">
<span class='line'>553</span> </span><span class="WHIT">            </span><span class="NAME">getCurrentRoute</span><span class="PUNC">:</span><span class="WHIT"> </span><span class="KEYW">function</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class='line'>554</span> </span><span class="WHIT">            </span><span class="PUNC">}</span><span class="PUNC">,</span><span class="WHIT">
<span class='line'>555</span> </span><span class="WHIT">            </span><span class="COMM">/**
<span class='line'>556</span>              * Get an object giving access to the current URL, query string, hash etc.
<span class='line'>557</span>              * @returns {Object} Object containing, at a minimum, the properties:
<span class='line'>558</span>              * hash, host, href, pathname, protocol, search. These correspond to the properties
<span class='line'>559</span>              * in the window.location DOM API.
<span class='line'>560</span>              * Use getCurrentAppURL(), getCurrentAppURLParams() and getCurrentRoute() to get
<span class='line'>561</span>              * this information in a more generic way.
<span class='line'>562</span>              */</span><span class="WHIT">
<span class='line'>563</span> </span><span class="WHIT">            </span><span class="NAME">getWindowLocation</span><span class="PUNC">:</span><span class="WHIT"> </span><span class="KEYW">function</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class='line'>564</span> </span><span class="WHIT">            </span><span class="PUNC">}</span><span class="PUNC">,</span><span class="WHIT">
<span class='line'>565</span> </span><span class="WHIT">            </span><span class="COMM">/**
<span class='line'>566</span>              * Browse to the specified location. Use launchAppFromURL() and setCurrentRoute() under Application
<span class='line'>567</span>              * to manipulate the current location more easily.
<span class='line'>568</span>              * @param {String} url Full URL to navigate to, including search and hash if applicable.
<span class='line'>569</span>              */</span><span class="WHIT">
<span class='line'>570</span> </span><span class="WHIT">            </span><span class="NAME">setWindowLocationUrl</span><span class="PUNC">:</span><span class="WHIT"> </span><span class="KEYW">function</span><span class="PUNC">(</span><span class="NAME">url</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class='line'>571</span> </span><span class="WHIT">            </span><span class="PUNC">}</span><span class="PUNC">,</span><span class="WHIT">
<span class='line'>572</span> </span><span class="WHIT">            </span><span class="COMM">/**
<span class='line'>573</span>              * Gets the reference (e.g. URL) of the resource that launched the application.
<span class='line'>574</span>              * @returns A reference (e.g. URL) of the resource that launched the application.
<span class='line'>575</span>              */</span><span class="WHIT">
<span class='line'>576</span> </span><span class="WHIT">            </span><span class="NAME">getReferrer</span><span class="PUNC">:</span><span class="WHIT"> </span><span class="KEYW">function</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class='line'>577</span> </span><span class="WHIT">            </span><span class="PUNC">}</span><span class="PUNC">,</span><span class="WHIT">
<span class='line'>578</span> </span><span class="WHIT">            </span><span class="COMM">/**
<span class='line'>579</span>              * Loads an external script that calls a specified callback function.
<span class='line'>580</span>              * Used for loading data via JSON-P.
<span class='line'>581</span>              * @param {String} url The URL of the script.
<span class='line'>582</span>              * @param {RegExp} callbackFunctionRegExp Regular expression to replace matches with callback function name.
<span class='line'>583</span>              * @param {Object} callbacks Object containing onSuccess and onLoad callback functions.
<span class='line'>584</span>              * @param {Integer} timeout Timeout in milliseconds.
<span class='line'>585</span>              * @param {String} [callbackSuffix] Suffix to append to end of callback function name.
<span class='line'>586</span>              * @returns The script element that will load the script.
<span class='line'>587</span>              */</span><span class="WHIT">
<span class='line'>588</span> </span><span class="WHIT">            </span><span class="NAME">loadScript</span><span class="PUNC">:</span><span class="WHIT"> </span><span class="KEYW">function</span><span class="PUNC">(</span><span class="NAME">url</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">callbackFunctionRegExp</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">callbacks</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">timeout</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">callbackSuffix</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class='line'>589</span> </span><span class="WHIT">            </span><span class="PUNC">}</span><span class="PUNC">,</span><span class="WHIT">
<span class='line'>590</span> </span><span class="WHIT">            </span><span class="COMM">/**
<span class='line'>591</span>              * Loads an external style sheet.
<span class='line'>592</span>              * @param {String} url The URL of the style sheet.
<span class='line'>593</span>              * @param {function(String)} [callback] Callback function when style has loaded/failed
<span class='line'>594</span>              * @returns The link element that will load the style sheet.
<span class='line'>595</span>              */</span><span class="WHIT">
<span class='line'>596</span> </span><span class="WHIT">            </span><span class="NAME">loadStyleSheet</span><span class="PUNC">:</span><span class="WHIT"> </span><span class="KEYW">function</span><span class="PUNC">(</span><span class="NAME">url</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">callback</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class='line'>597</span> </span><span class="WHIT">            </span><span class="PUNC">}</span><span class="PUNC">,</span><span class="WHIT">
<span class='line'>598</span> </span><span class="WHIT">            </span><span class="COMM">/**
<span class='line'>599</span>              * Loads a resource from a URL protected by device authentication.
<span class='line'>600</span>              * @param {String} url The URL to load.
<span class='line'>601</span>              * @param {Object} opts Object containing onLoad and onError callback functions.
<span class='line'>602</span>              * @returns The request object used to load the resource.
<span class='line'>603</span>              */</span><span class="WHIT">
<span class='line'>604</span> </span><span class="WHIT">            </span><span class="NAME">loadAuthenticatedURL</span><span class="PUNC">:</span><span class="WHIT"> </span><span class="KEYW">function</span><span class="PUNC">(</span><span class="NAME">url</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">opts</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class='line'>605</span> </span><span class="WHIT">            </span><span class="PUNC">}</span><span class="PUNC">,</span><span class="WHIT">
<span class='line'>606</span> </span><span class="WHIT">            </span><span class="COMM">/**
<span class='line'>607</span>              * Loads a resource from a URL.
<span class='line'>608</span>              * @param {String} url The URL to load.
<span class='line'>609</span>              * @param {Object} opts Object containing onLoad and onError callback functions.
<span class='line'>610</span>              * @returns The request object used to load the resource.
<span class='line'>611</span>              */</span><span class="WHIT">
<span class='line'>612</span> </span><span class="WHIT">            </span><span class="NAME">loadURL</span><span class="PUNC">:</span><span class="WHIT"> </span><span class="KEYW">function</span><span class="PUNC">(</span><span class="NAME">url</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">opts</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class='line'>613</span> </span><span class="WHIT">            </span><span class="PUNC">}</span><span class="PUNC">,</span><span class="WHIT">
<span class='line'>614</span> </span><span class="WHIT">            </span><span class="COMM">/**
<span class='line'>615</span>              * Performs a POST HTTP request to a URL on a different host/domain.
<span class='line'>616</span>              * @param {String} url The URL to post to.
<span class='line'>617</span>              * @param {Object} data Associative array of fields/values to post.
<span class='line'>618</span>              * @param {Object} opts Object containing onLoad and onError callback functions.
<span class='line'>619</span>              */</span><span class="WHIT">
<span class='line'>620</span> </span><span class="WHIT">            </span><span class="NAME">crossDomainPost</span><span class="PUNC">:</span><span class="WHIT"> </span><span class="KEYW">function</span><span class="PUNC">(</span><span class="NAME">url</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">opts</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class='line'>621</span> </span><span class="WHIT">            </span><span class="PUNC">}</span><span class="PUNC">,</span><span class="WHIT">
<span class='line'>622</span> </span><span class="WHIT">            </span><span class="COMM">/**
<span class='line'>623</span>              * Performs a cross domain GET for a decoded JSON object utilising CORS if supported by
<span class='line'>624</span>              * the device, falling back to a JSON-P call otherwise.
<span class='line'>625</span>              * @param {String} url The URL to load. A callback GET parameter will be appended if JSON-P is used.
<span class='line'>626</span>              * @param {Object} callbacks Object containing onSuccess and onError callbacks. onSuccess will be called
<span class='line'>627</span>              * with the decoded JSON object if the call is successful.
<span class='line'>628</span>              * @param {Object} [options] Options for the JSON-P fallback behaviour. All optional with sensible defaults.
<span class='line'>629</span>              * @param {Number} [options.timeout=5000] Timeout for the JSON-P call in ms. Default: 5000.
<span class='line'>630</span>              * @param {String} [options.id] Used in the callback function name for the JSON-P call. Default: a random string.
<span class='line'>631</span>              * @param {String} [options.callbackKey=callback] Key to use in query string when passing callback function name
<span class='line'>632</span>              * for JSON-P call. Default: callback
<span class='line'>633</span>              */</span><span class="WHIT">
<span class='line'>634</span> </span><span class="WHIT">            </span><span class="NAME">executeCrossDomainGet</span><span class="PUNC">:</span><span class="WHIT"> </span><span class="KEYW">function</span><span class="PUNC">(</span><span class="NAME">url</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">callbacks</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">options</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class='line'>635</span> </span><span class="WHIT">            </span><span class="PUNC">}</span><span class="PUNC">,</span><span class="WHIT">
<span class='line'>636</span> </span><span class="WHIT">            </span><span class="COMM">/**
<span class='line'>637</span>              * Performs a cross domain POST HTTP using CORS or the content delivered as a single form field value depending on device capability
<span class='line'>638</span>              * @param {String} url The URL to post to.
<span class='line'>639</span>              * @param {Object} data JavaScript object to be JSON encoded and delivered as payload.
<span class='line'>640</span>              * @param {Object} opts Object containing onLoad and onError callback functions and a fieldName property to be
<span class='line'>641</span>              * used for the name of the form filed if the iframe hack is used
<span class='line'>642</span>              */</span><span class="WHIT">
<span class='line'>643</span> </span><span class="WHIT">            </span><span class="NAME">executeCrossDomainPost</span><span class="PUNC">:</span><span class="WHIT"> </span><span class="KEYW">function</span><span class="PUNC">(</span><span class="NAME">url</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">data</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">opts</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class='line'>644</span> </span><span class="WHIT">            </span><span class="PUNC">}</span><span class="PUNC">,</span><span class="WHIT">
<span class='line'>645</span> </span><span class="WHIT">            </span><span class="COMM">/**
<span class='line'>646</span>              * Forces the device to pre-load an image.
<span class='line'>647</span>              * @param {String} url The URL of the image to preload.
<span class='line'>648</span>              */</span><span class="WHIT">
<span class='line'>649</span> </span><span class="WHIT">            </span><span class="NAME">preloadImage</span><span class="PUNC">:</span><span class="WHIT"> </span><span class="KEYW">function</span><span class="PUNC">(</span><span class="NAME">url</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class='line'>650</span> </span><span class="WHIT">            </span><span class="PUNC">}</span><span class="PUNC">,</span><span class="WHIT">
<span class='line'>651</span> </span><span class="WHIT">            </span><span class="COMM">/**
<span class='line'>652</span>              * Checks to see if HD output is currently enabled.
<span class='line'>653</span>              * @returns True if HD is currently enabled.
<span class='line'>654</span>              */</span><span class="WHIT">
<span class='line'>655</span> </span><span class="WHIT">            </span><span class="NAME">isHDEnabled</span><span class="PUNC">:</span><span class="WHIT"> </span><span class="KEYW">function</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class='line'>656</span> </span><span class="WHIT">            </span><span class="PUNC">}</span><span class="PUNC">,</span><span class="WHIT">
<span class='line'>657</span> </span><span class="WHIT">            </span><span class="COMM">/**
<span class='line'>658</span>              * Exits the application directly - no history.
<span class='line'>659</span>              */</span><span class="WHIT">
<span class='line'>660</span> </span><span class="WHIT">            </span><span class="NAME">exit</span><span class="PUNC">:</span><span class="WHIT"> </span><span class="KEYW">function</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class='line'>661</span> </span><span class="WHIT">                </span><span class="KEYW">throw</span><span class="WHIT"> </span><span class="KEYW">new</span><span class="WHIT"> </span><span class="NAME">Error</span><span class="PUNC">(</span><span class="STRN">'Not supported on this device.'</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>662</span> </span><span class="WHIT">            </span><span class="PUNC">}</span><span class="PUNC">,</span><span class="WHIT">
<span class='line'>663</span> </span><span class="WHIT">            </span><span class="COMM">/**
<span class='line'>664</span>              * Exits to broadcast if this function has been overloaded by a modifier. Otherwise, calls exit().
<span class='line'>665</span>              */</span><span class="WHIT">
<span class='line'>666</span> </span><span class="WHIT">            </span><span class="NAME">exitToBroadcast</span><span class="PUNC">:</span><span class="WHIT"> </span><span class="KEYW">function</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class='line'>667</span> </span><span class="WHIT">                </span><span class="NAME">this.exit</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>668</span> </span><span class="WHIT">            </span><span class="PUNC">}</span><span class="PUNC">,</span><span class="WHIT">
<span class='line'>669</span> </span><span class="WHIT">            </span><span class="COMM">/**
<span class='line'>670</span>              * Get a storage provider of a given type for the specified namespace.
<span class='line'>671</span>              * @param {Number} storageType The type of storage required (either &lt;code>StorageProvider.STORAGE_TYPE_SESSION&lt;/code> or &lt;code>StorageProvider.STORAGE_TYPE_PERSISTENT&lt;/code>).
<span class='line'>672</span>              * @param {String} namespace The storage namespace.
<span class='line'>673</span>              * @returns StorageProvider object.
<span class='line'>674</span>              */</span><span class="WHIT">
<span class='line'>675</span> </span><span class="WHIT">            </span><span class="NAME">getStorage</span><span class="PUNC">:</span><span class="WHIT"> </span><span class="KEYW">function</span><span class="PUNC">(</span><span class="NAME">storageType</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">namespace</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class='line'>676</span> </span><span class="WHIT">                </span><span class="KEYW">if</span><span class="WHIT"> </span><span class="PUNC">(</span><span class="NAME">storageType</span><span class="WHIT"> </span><span class="PUNC">==</span><span class="WHIT"> </span><span class="NAME">StorageProvider.STORAGE_TYPE_SESSION</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class='line'>677</span> </span><span class="WHIT">                    </span><span class="KEYW">return</span><span class="WHIT"> </span><span class="NAME">SessionStorage.getNamespace</span><span class="PUNC">(</span><span class="NAME">namespace</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>678</span> </span><span class="WHIT">                </span><span class="PUNC">}</span><span class="WHIT"> </span><span class="KEYW">else</span><span class="WHIT"> </span><span class="KEYW">if</span><span class="WHIT"> </span><span class="PUNC">(</span><span class="NAME">storageType</span><span class="WHIT"> </span><span class="PUNC">==</span><span class="WHIT"> </span><span class="NAME">StorageProvider.STORAGE_TYPE_PERSISTENT</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class='line'>679</span> </span><span class="WHIT">                    </span><span class="KEYW">return</span><span class="WHIT"> </span><span class="NAME">this.getPersistentStorage</span><span class="PUNC">(</span><span class="NAME">namespace</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>680</span> </span><span class="WHIT">                </span><span class="PUNC">}</span><span class="WHIT">
<span class='line'>681</span> </span><span class="WHIT">            </span><span class="PUNC">}</span><span class="PUNC">,</span><span class="WHIT">
<span class='line'>682</span> </span><span class="WHIT">            </span><span class="COMM">/**
<span class='line'>683</span>              * Check to see if volume control is supported on this device.
<span class='line'>684</span>              * @returns Boolean true if volume control is supported.
<span class='line'>685</span>              */</span><span class="WHIT">
<span class='line'>686</span> </span><span class="WHIT">            </span><span class="NAME">isVolumeControlSupported</span><span class="PUNC">:</span><span class="WHIT"> </span><span class="KEYW">function</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class='line'>687</span> </span><span class="WHIT">                </span><span class="KEYW">return</span><span class="WHIT"> </span><span class="KEYW">false</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>688</span> </span><span class="WHIT">            </span><span class="PUNC">}</span><span class="PUNC">,</span><span class="WHIT">
<span class='line'>689</span> </span><span class="WHIT">            </span><span class="COMM">/**
<span class='line'>690</span>              * Get the current volume.
<span class='line'>691</span>              * @returns The current volume (0.0 to 1.0)
<span class='line'>692</span>              */</span><span class="WHIT">
<span class='line'>693</span> </span><span class="WHIT">            </span><span class="NAME">getVolume</span><span class="PUNC">:</span><span class="WHIT"> </span><span class="KEYW">function</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class='line'>694</span> </span><span class="WHIT">            </span><span class="PUNC">}</span><span class="PUNC">,</span><span class="WHIT">
<span class='line'>695</span> </span><span class="WHIT">            </span><span class="COMM">/**
<span class='line'>696</span>              * Set the current volume.
<span class='line'>697</span>              * @param {Float} volume The new volume level (0.0 to 1.0).
<span class='line'>698</span>              */</span><span class="WHIT">
<span class='line'>699</span> </span><span class="WHIT">            </span><span class="NAME">setVolume</span><span class="PUNC">:</span><span class="WHIT"> </span><span class="KEYW">function</span><span class="PUNC">(</span><span class="NAME">volume</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class='line'>700</span> </span><span class="WHIT">            </span><span class="PUNC">}</span><span class="PUNC">,</span><span class="WHIT">
<span class='line'>701</span> </span><span class="WHIT">            </span><span class="COMM">/**
<span class='line'>702</span>              * Check to see if the volume is currently muted.
<span class='line'>703</span>              * @returns Boolean true if the device is currently muted. Otherwise false.
<span class='line'>704</span>              */</span><span class="WHIT">
<span class='line'>705</span> </span><span class="WHIT">            </span><span class="NAME">getMuted</span><span class="PUNC">:</span><span class="WHIT"> </span><span class="KEYW">function</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class='line'>706</span> </span><span class="WHIT">            </span><span class="PUNC">}</span><span class="PUNC">,</span><span class="WHIT">
<span class='line'>707</span> </span><span class="WHIT">            </span><span class="COMM">/**
<span class='line'>708</span>              * Mute or unmute the device.
<span class='line'>709</span>              * @param {Boolean} muted The new muted state. Boolean true to mute, false to unmute.
<span class='line'>710</span>              */</span><span class="WHIT">
<span class='line'>711</span> </span><span class="WHIT">            </span><span class="NAME">setMuted</span><span class="PUNC">:</span><span class="WHIT"> </span><span class="KEYW">function</span><span class="PUNC">(</span><span class="NAME">muted</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class='line'>712</span> </span><span class="WHIT">            </span><span class="PUNC">}</span><span class="PUNC">,</span><span class="WHIT">
<span class='line'>713</span> </span><span class="WHIT">            </span><span class="COMM">/**
<span class='line'>714</span>              * Check to see whether device has disabled animation.
<span class='line'>715</span>              * @returns {Boolean} true if animation is disabled, false if animation is not disabled.
<span class='line'>716</span>              */</span><span class="WHIT">
<span class='line'>717</span> </span><span class="WHIT">            </span><span class="NAME">isAnimationDisabled</span><span class="PUNC">:</span><span class="WHIT"> </span><span class="KEYW">function</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class='line'>718</span> </span><span class="WHIT">            </span><span class="PUNC">}</span><span class="PUNC">,</span><span class="WHIT">
<span class='line'>719</span> </span><span class="WHIT">            </span><span class="COMM">/**
<span class='line'>720</span>              * Create a new widget giving control over broadcast television. Check whether
<span class='line'>721</span>              * the broadcast television API is available first with isBroadcastSourceSupported().
<span class='line'>722</span>              * @see antie.widgets.broadcastsource
<span class='line'>723</span>              * @returns {Object} Device-specific implementation of antie.widgets.broadcastsource
<span class='line'>724</span>              */</span><span class="WHIT">
<span class='line'>725</span> </span><span class="WHIT">            </span><span class="NAME">createBroadcastSource</span><span class="PUNC">:</span><span class="WHIT"> </span><span class="KEYW">function</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class='line'>726</span> </span><span class="WHIT">            	</span><span class="KEYW">throw</span><span class="WHIT"> </span><span class="KEYW">new</span><span class="WHIT"> </span><span class="NAME">Error</span><span class="PUNC">(</span><span class="STRN">'Broadcast API not available on this device.'</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>727</span> </span><span class="WHIT">            </span><span class="PUNC">}</span><span class="PUNC">,</span><span class="WHIT">
<span class='line'>728</span> </span><span class="WHIT">            </span><span class="COMM">/**
<span class='line'>729</span>              * Check to see whether the device has an API to control broadcast television.
<span class='line'>730</span>              * @returns {Boolean} true if the API is available, false if not.
<span class='line'>731</span>              */</span><span class="WHIT">
<span class='line'>732</span> </span><span class="WHIT">            </span><span class="NAME">isBroadcastSourceSupported</span><span class="PUNC">:</span><span class="WHIT"> </span><span class="KEYW">function</span><span class="PUNC">(</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class='line'>733</span> </span><span class="WHIT">            	</span><span class="KEYW">return</span><span class="WHIT"> </span><span class="KEYW">false</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>734</span> </span><span class="WHIT">            </span><span class="PUNC">}</span><span class="WHIT">
<span class='line'>735</span> </span><span class="WHIT">        </span><span class="PUNC">}</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>736</span> </span><span class="WHIT">        </span><span class="COMM">/**
<span class='line'>737</span>          * Loads a device configuration document from the given URL.
<span class='line'>738</span>          * @name load
<span class='line'>739</span>          * @memberOf antie.devices.Device
<span class='line'>740</span>          * @static
<span class='line'>741</span>          * @function
<span class='line'>742</span>          * @param {String} configUrl URL to the device configuration document.
<span class='line'>743</span>          * @param {Object} callbacks Object containing onSuccess and onError callback functions.
<span class='line'>744</span>          */</span><span class="WHIT">
<span class='line'>745</span> </span><span class="WHIT">        </span><span class="NAME">Device.load</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="KEYW">function</span><span class="PUNC">(</span><span class="NAME">config</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">callbacks</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class='line'>746</span> </span><span class="WHIT">            </span><span class="KEYW">try</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class='line'>747</span> </span><span class="WHIT">                </span><span class="NAME">require</span><span class="PUNC">(</span><span class="PUNC">[</span><span class="NAME">config.modules.base</span><span class="PUNC">]</span><span class="PUNC">.</span><span class="NAME">concat</span><span class="PUNC">(</span><span class="NAME">config.modules.modifiers</span><span class="PUNC">)</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="KEYW">function</span><span class="PUNC">(</span><span class="NAME">DeviceClass</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class='line'>748</span> </span><span class="WHIT">                    </span><span class="KEYW">try</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class='line'>749</span> </span><span class="WHIT">                        </span><span class="NAME">callbacks.onSuccess</span><span class="PUNC">(</span><span class="KEYW">new</span><span class="WHIT"> </span><span class="NAME">DeviceClass</span><span class="PUNC">(</span><span class="NAME">config</span><span class="PUNC">)</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>750</span> </span><span class="WHIT">                    </span><span class="PUNC">}</span><span class="WHIT"> </span><span class="KEYW">catch</span><span class="PUNC">(</span><span class="NAME">ex</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class='line'>751</span> </span><span class="WHIT">                        </span><span class="KEYW">if</span><span class="WHIT"> </span><span class="PUNC">(</span><span class="NAME">callbacks.onError</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class='line'>752</span> </span><span class="WHIT">                            </span><span class="NAME">callbacks.onError</span><span class="PUNC">(</span><span class="NAME">ex</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>753</span> </span><span class="WHIT">                        </span><span class="PUNC">}</span><span class="WHIT">
<span class='line'>754</span> </span><span class="WHIT">                    </span><span class="PUNC">}</span><span class="WHIT">
<span class='line'>755</span> </span><span class="WHIT">                </span><span class="PUNC">}</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>756</span> </span><span class="WHIT">            </span><span class="PUNC">}</span><span class="WHIT"> </span><span class="KEYW">catch</span><span class="PUNC">(</span><span class="NAME">ex</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class='line'>757</span> </span><span class="WHIT">                </span><span class="KEYW">if</span><span class="WHIT"> </span><span class="PUNC">(</span><span class="NAME">callbacks.onError</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class='line'>758</span> </span><span class="WHIT">                    </span><span class="NAME">callbacks.onError</span><span class="PUNC">(</span><span class="NAME">ex</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>759</span> </span><span class="WHIT">                </span><span class="PUNC">}</span><span class="WHIT">
<span class='line'>760</span> </span><span class="WHIT">            </span><span class="PUNC">}</span><span class="WHIT">
<span class='line'>761</span> </span><span class="WHIT">        </span><span class="PUNC">}</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>762</span> 
<span class='line'>763</span> </span><span class="WHIT">        </span><span class="COMM">/**
<span class='line'>764</span>          * Adds a logging method at device init time
<span class='line'>765</span>          * @name addLoggingMethod
<span class='line'>766</span>          * @memberOf antie.devices.Device
<span class='line'>767</span>          * @static
<span class='line'>768</span>          * @function
<span class='line'>769</span>          * @param {String} id of require module that defined the logging methods - eg antie/devices/logging/default
<span class='line'>770</span>          * @param {Object} an object that contains implementations of each logging interface ( log,debug,info,warn,error )
<span class='line'>771</span>          */</span><span class="WHIT">
<span class='line'>772</span> 
<span class='line'>773</span> </span><span class="WHIT">        </span><span class="NAME">Device.addLoggingStrategy</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="KEYW">function</span><span class="PUNC">(</span><span class="NAME">moduleID</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">loggingMethods</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class='line'>774</span> </span><span class="WHIT">            </span><span class="NAME">Device.prototype.loggingStrategies</span><span class="PUNC">[</span><span class="WHIT"> </span><span class="NAME">moduleID</span><span class="WHIT"> </span><span class="PUNC">]</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="NAME">loggingMethods</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>775</span> </span><span class="WHIT">        </span><span class="PUNC">}</span><span class="WHIT">
<span class='line'>776</span> 
<span class='line'>777</span> </span><span class="WHIT">        </span><span class="NAME">Device.prototype.loggingStrategies</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="PUNC">[</span><span class="PUNC">]</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>778</span> </span><span class="WHIT">        </span><span class="NAME">Device.prototype.filteredLoggingMethods</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="KEYW">null</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>779</span> 
<span class='line'>780</span> </span><span class="WHIT">        </span><span class="KEYW">return</span><span class="WHIT"> </span><span class="NAME">Device</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>781</span> </span><span class="WHIT">    </span><span class="PUNC">}</span><span class="WHIT">
<span class='line'>782</span> </span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'>783</span> </span></pre><script type="text/javascript">

      var _gaq = _gaq || [];
      _gaq.push(['_setAccount', 'UA-38709464-1']);
      _gaq.push(['_trackPageview']);

      (function() {
        var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
        ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
        var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
      })();

    </script></body></html>