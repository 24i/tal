<html><head><meta http-equiv="content-type" content="text/html; charset=utf-8"> <style>
	.KEYW {color: #933;}
	.COMM {color: #bbb; font-style: italic;}
	.NUMB {color: #393;}
	.STRN {color: #393;}
	.REGX {color: #339;}
	.line {border-right: 1px dotted #666; color: #666; font-style: normal;}
	</style></head><body><pre><span class='line'>  1</span> <span class="COMM">/**
<span class='line'>  2</span>  * @fileOverview Requirejs module containing the antie.events.MediaEvent class.
<span class='line'>  3</span>  *
<span class='line'>  4</span>  * @preserve Copyright (c) 2013 British Broadcasting Corporation
<span class='line'>  5</span>  * (http://www.bbc.co.uk) and TAL Contributors (1)
<span class='line'>  6</span>  *
<span class='line'>  7</span>  * (1) TAL Contributors are listed in the AUTHORS file and at
<span class='line'>  8</span>  *     https://github.com/fmtvp/TAL/AUTHORS - please extend this file,
<span class='line'>  9</span>  *     not this notice.
<span class='line'> 10</span>  *
<span class='line'> 11</span>  * @license Licensed under the Apache License, Version 2.0 (the "License");
<span class='line'> 12</span>  * you may not use this file except in compliance with the License.
<span class='line'> 13</span>  * You may obtain a copy of the License at
<span class='line'> 14</span>  *
<span class='line'> 15</span>  *    http://www.apache.org/licenses/LICENSE-2.0
<span class='line'> 16</span>  *
<span class='line'> 17</span>  * Unless required by applicable law or agreed to in writing, software
<span class='line'> 18</span>  * distributed under the License is distributed on an "AS IS" BASIS,
<span class='line'> 19</span>  * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
<span class='line'> 20</span>  * See the License for the specific language governing permissions and
<span class='line'> 21</span>  * limitations under the License.
<span class='line'> 22</span>  *
<span class='line'> 23</span>  * All rights reserved
<span class='line'> 24</span>  * Please contact us for an alternative licence
<span class='line'> 25</span>  */</span><span class="WHIT">
<span class='line'> 26</span> 
<span class='line'> 27</span> </span><span class="NAME">require.def</span><span class="PUNC">(</span><span class="STRN">'antie/events/mediaevent'</span><span class="PUNC">,</span><span class="WHIT">
<span class='line'> 28</span> </span><span class="WHIT">	</span><span class="PUNC">[</span><span class="STRN">'antie/events/event'</span><span class="PUNC">]</span><span class="PUNC">,</span><span class="WHIT">
<span class='line'> 29</span> </span><span class="WHIT">	</span><span class="KEYW">function</span><span class="PUNC">(</span><span class="NAME">Event</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class='line'> 30</span> </span><span class="WHIT">		</span><span class="COMM">/**
<span class='line'> 31</span> 		 * Class of events raised when media events occur
<span class='line'> 32</span> 		 * @name antie.events.MediaEvent
<span class='line'> 33</span> 		 * @class
<span class='line'> 34</span> 		 * @extends antie.events.Event
<span class='line'> 35</span> 		 * @param {String} [type] The type of event.
<span class='line'> 36</span> 		 * @param {antie.widgets.Media} target The media widget that fired the event.
<span class='line'> 37</span> 		 */</span><span class="WHIT">
<span class='line'> 38</span> </span><span class="WHIT">		</span><span class="KEYW">var</span><span class="WHIT"> </span><span class="NAME">MediaEvent</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="NAME">Event.extend</span><span class="PUNC">(</span><span class="COMM">/** @lends antie.events.MediaEvent.prototype */</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class='line'> 39</span> </span><span class="WHIT">			</span><span class="COMM">/**
<span class='line'> 40</span> 			 * @constructor
<span class='line'> 41</span> 			 * @ignore
<span class='line'> 42</span> 			 */</span><span class="WHIT">
<span class='line'> 43</span> </span><span class="WHIT">			</span><span class="NAME">init</span><span class="PUNC">:</span><span class="WHIT"> </span><span class="KEYW">function</span><span class="PUNC">(</span><span class="NAME">type</span><span class="PUNC">,</span><span class="WHIT"> </span><span class="NAME">target</span><span class="PUNC">)</span><span class="WHIT"> </span><span class="PUNC">{</span><span class="WHIT">
<span class='line'> 44</span> </span><span class="WHIT">				</span><span class="NAME">this.target</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="NAME">target</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'> 45</span> </span><span class="WHIT">				</span><span class="NAME">this._super</span><span class="PUNC">(</span><span class="NAME">type</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'> 46</span> </span><span class="WHIT">			</span><span class="PUNC">}</span><span class="WHIT">
<span class='line'> 47</span> </span><span class="WHIT">		</span><span class="PUNC">}</span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'> 48</span> 
<span class='line'> 49</span> </span><span class="WHIT">		</span><span class="NAME">MediaEvent.TYPES</span><span class="WHIT"> </span><span class="PUNC">=</span><span class="WHIT"> </span><span class="PUNC">[</span><span class="WHIT">
<span class='line'> 50</span> </span><span class="WHIT">			</span><span class="STRN">"loadstart"</span><span class="PUNC">,</span><span class="WHIT"> 	</span><span class="COMM">// Event 	The user agent begins looking for media data, as part of the resource selection algorithm. 	networkState equals NETWORK_LOADING</span><span class="WHIT">
<span class='line'> 51</span> </span><span class="WHIT">			</span><span class="STRN">"progress"</span><span class="PUNC">,</span><span class="WHIT"> 	</span><span class="COMM">// Event 	The user agent is fetching media data. 	networkState equals NETWORK_LOADING</span><span class="WHIT">
<span class='line'> 52</span> </span><span class="WHIT">			</span><span class="STRN">"suspend"</span><span class="PUNC">,</span><span class="WHIT"> 	</span><span class="COMM">// Event 	The user agent is intentionally not currently fetching media data, but does not have the entire media resource downloaded. 	networkState equals NETWORK_IDLE</span><span class="WHIT">
<span class='line'> 53</span> </span><span class="WHIT">			</span><span class="STRN">"abort"</span><span class="PUNC">,</span><span class="WHIT">		</span><span class="COMM">// Event 	The user agent stops fetching the media data before it is completely downloaded, but not due to an error. 	error is an object with the code MEDIA_ERR_ABORTED. networkState equals either NETWORK_EMPTY or NETWORK_IDLE, depending on when the download was aborted.</span><span class="WHIT">
<span class='line'> 54</span> </span><span class="WHIT">			</span><span class="COMM">// Handled separately: "error",		// Event 	An error occurs while fetching the media data. 	error is an object with the code MEDIA_ERR_NETWORK or higher. networkState equals either NETWORK_EMPTY or NETWORK_IDLE, depending on when the download was aborted.</span><span class="WHIT">
<span class='line'> 55</span> </span><span class="WHIT">			</span><span class="STRN">"emptied"</span><span class="PUNC">,</span><span class="WHIT"> 	</span><span class="COMM">// Event 	A media element whose networkState was previously not in the NETWORK_EMPTY state has just switched to that state (either because of a fatal error during load that's about to be reported, or because the load() method was invoked while the resource selection algorithm was already running). 	networkState is NETWORK_EMPTY; all the IDL attributes are in their initial states.</span><span class="WHIT">
<span class='line'> 56</span> </span><span class="WHIT">			</span><span class="STRN">"stalled"</span><span class="PUNC">,</span><span class="WHIT"> 	</span><span class="COMM">// Event 	The user agent is trying to fetch media data, but data is unexpectedly not forthcoming. 	networkState is NETWORK_LOADING.</span><span class="WHIT">
<span class='line'> 57</span> </span><span class="WHIT">			</span><span class="STRN">"play"</span><span class="PUNC">,</span><span class="WHIT">		</span><span class="COMM">// Event 	Playback has begun. Fired after the play() method has returned, or when the autoplay attribute has caused playback to begin. 	paused is newly false.</span><span class="WHIT">
<span class='line'> 58</span> </span><span class="WHIT">			</span><span class="STRN">"pause"</span><span class="PUNC">,</span><span class="WHIT">		</span><span class="COMM">// Event 	Playback has been paused. Fired after the pause() method has returned. 	paused is newly true.</span><span class="WHIT">
<span class='line'> 59</span> </span><span class="WHIT">			</span><span class="STRN">"loadedmetadata"</span><span class="PUNC">,</span><span class="WHIT"> 	</span><span class="COMM">// Event 	The user agent has just determined the duration and dimensions of the media resource and the timed tracks are ready. 	readyState is newly equal to HAVE_METADATA or greater for the first time.</span><span class="WHIT">
<span class='line'> 60</span> </span><span class="WHIT">			</span><span class="STRN">"loadeddata"</span><span class="PUNC">,</span><span class="WHIT"> 	</span><span class="COMM">// Event 	The user agent can render the media data at the current playback position for the first time. 	readyState newly increased to HAVE_CURRENT_DATA or greater for the first time.</span><span class="WHIT">
<span class='line'> 61</span> </span><span class="WHIT">			</span><span class="STRN">"waiting"</span><span class="PUNC">,</span><span class="WHIT"> 	</span><span class="COMM">// Event 	Playback has stopped because the next frame is not available, but the user agent expects that frame to become available in due course. 	readyState is newly equal to or less than HAVE_CURRENT_DATA, and paused is false. Either seeking is true, or the current playback position is not contained in any of the ranges in buffered. It is possible for playback to stop for two other reasons without paused being false, but those two reasons do not fire this event: maybe playback ended, or playback stopped due to errors.</span><span class="WHIT">
<span class='line'> 62</span> </span><span class="WHIT">			</span><span class="STRN">"playing"</span><span class="PUNC">,</span><span class="WHIT"> 	</span><span class="COMM">// Event 	Playback has started. 	readyState is newly equal to or greater than HAVE_FUTURE_DATA, paused is false, seeking is false, or the current playback position is contained in one of the ranges in buffered.</span><span class="WHIT">
<span class='line'> 63</span> </span><span class="WHIT">			</span><span class="STRN">"canplay"</span><span class="PUNC">,</span><span class="WHIT"> 	</span><span class="COMM">// Event 	The user agent can resume playback of the media data, but estimates that if playback were to be started now, the media resource could not be rendered at the current playback rate up to its end without having to stop for further buffering of content. 	readyState newly increased to HAVE_FUTURE_DATA or greater.</span><span class="WHIT">
<span class='line'> 64</span> </span><span class="WHIT">			</span><span class="STRN">"canplaythrough"</span><span class="PUNC">,</span><span class="WHIT"> 	</span><span class="COMM">// Event 	The user agent estimates that if playback were to be started now, the media resource could be rendered at the current playback rate all the way to its end without having to stop for further buffering. 	readyState is newly equal to HAVE_ENOUGH_DATA.</span><span class="WHIT">
<span class='line'> 65</span> </span><span class="WHIT">			</span><span class="STRN">"seeking"</span><span class="PUNC">,</span><span class="WHIT"> 	</span><span class="COMM">// Event 	The seeking IDL attribute changed to true and the seek operation is taking long enough that the user agent has time to fire the event. 	</span><span class="WHIT">
<span class='line'> 66</span> </span><span class="WHIT">			</span><span class="STRN">"seeked"</span><span class="PUNC">,</span><span class="WHIT">		</span><span class="COMM">// Event 	The seeking IDL attribute changed to false. 	</span><span class="WHIT">
<span class='line'> 67</span> </span><span class="WHIT">			</span><span class="STRN">"timeupdate"</span><span class="PUNC">,</span><span class="WHIT"> 	</span><span class="COMM">// Event 	The current playback position changed as part of normal playback or in an especially interesting way, for example discontinuously. 	</span><span class="WHIT">
<span class='line'> 68</span> </span><span class="WHIT">			</span><span class="STRN">"ended"</span><span class="PUNC">,</span><span class="WHIT">		</span><span class="COMM">// Event 	Playback has stopped because the end of the media resource was reached. 	currentTime equals the end of the media resource; ended is true.</span><span class="WHIT">
<span class='line'> 69</span> </span><span class="WHIT">			</span><span class="STRN">"ratechange"</span><span class="PUNC">,</span><span class="WHIT"> 	</span><span class="COMM">// Event 	Either the defaultPlaybackRate or the playbackRate attribute has just been updated. 	</span><span class="WHIT">
<span class='line'> 70</span> </span><span class="WHIT">			</span><span class="STRN">"durationchange"</span><span class="PUNC">,</span><span class="WHIT"> 	</span><span class="COMM">// Event 	The duration attribute has just been updated. 	</span><span class="WHIT">
<span class='line'> 71</span> </span><span class="WHIT">			</span><span class="STRN">"volumechange"</span><span class="WHIT"> 	</span><span class="COMM">// Event 	Either the volume attribute or the muted attribute has changed. Fired after the relevant attribute's setter has returned. 	</span><span class="WHIT">
<span class='line'> 72</span> </span><span class="WHIT">		</span><span class="PUNC">]</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'> 73</span> </span><span class="WHIT">		</span><span class="KEYW">return</span><span class="WHIT"> </span><span class="NAME">MediaEvent</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'> 74</span> </span><span class="WHIT">	</span><span class="PUNC">}</span><span class="WHIT">
<span class='line'> 75</span> </span><span class="PUNC">)</span><span class="PUNC">;</span><span class="WHIT">
<span class='line'> 76</span> </span></pre>    <script type="text/javascript">

      var _gaq = _gaq || [];
      _gaq.push(['_setAccount', 'UA-38709464-1']);
      _gaq.push(['_trackPageview']);

      (function() {
        var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
        ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
        var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
      })();

    </script></body></html>